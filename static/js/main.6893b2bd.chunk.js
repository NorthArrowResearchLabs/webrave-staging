(this["webpackJsonp@riverscapes/webrave"]=this["webpackJsonp@riverscapes/webrave"]||[]).push([[0],{165:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Raster=t.QRCode=t.Polyline=t.Polygon=t.Multidot=void 0;var n=a(623);Object.defineProperty(t,"Multidot",{enumerable:!0,get:function(){return r(n).default}});var o=a(624);Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return r(o).default}});var l=a(625);Object.defineProperty(t,"Polyline",{enumerable:!0,get:function(){return r(l).default}});var i=a(626);Object.defineProperty(t,"QRCode",{enumerable:!0,get:function(){return r(i).default}});var s=a(627);Object.defineProperty(t,"Raster",{enumerable:!0,get:function(){return r(s).default}})},176:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.awsAuth=t.redirectUrl=t.mandatoryMetaColors=t.endpoints=t.version=t.mapConfig=t.isDev=t.tagColors=void 0;var n=a(112),o=r(a(20));t.tagColors={tagColors:["#418CF0","#FCB441","#E0400A","#056492","#BFBFBF","#1A3B69","#FFE382","#129CDD","#CA6B4B","#005CDB","#F3D288","#506381","#F1B9A8","#E0830A","#7893BE"]};var l=Object({NODE_ENV:"production",PUBLIC_URL:"/webrave-staging",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"0.1.4",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoibm9ydGhhcnJvd3Jlc2VhcmNoIiwiYSI6ImNrbDhjN25hcTIxZnYyb2xjOXZzaGxoMDcifQ.JlXGE_yO53x3iVlUb4MCLg",REACT_APP_GRAPHQL:"https://w3sczcn3l5.execute-api.us-west-2.amazonaws.com/staging/api",REACT_APP_WAREHOUSE_URL:"https://northarrowresearchlabs.github.io/riverscapes-staging"}).REACT_APP_DOMAIN;o.default.debug("config: ",{domain:l}),t.isDev=!1,t.mapConfig={mapBoxToken:"pk.eyJ1Ijoibm9ydGhhcnJvd3Jlc2VhcmNoIiwiYSI6ImNrbDhjN25hcTIxZnYyb2xjOXZzaGxoMDcifQ.JlXGE_yO53x3iVlUb4MCLg"},t.version="0.1.4",t.endpoints={graphql:"https://w3sczcn3l5.execute-api.us-west-2.amazonaws.com/staging/api",cdn:Object({NODE_ENV:"production",PUBLIC_URL:"/webrave-staging",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"0.1.4",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoibm9ydGhhcnJvd3Jlc2VhcmNoIiwiYSI6ImNrbDhjN25hcTIxZnYyb2xjOXZzaGxoMDcifQ.JlXGE_yO53x3iVlUb4MCLg",REACT_APP_GRAPHQL:"https://w3sczcn3l5.execute-api.us-west-2.amazonaws.com/staging/api",REACT_APP_WAREHOUSE_URL:"https://northarrowresearchlabs.github.io/riverscapes-staging"}).REACT_APP_CDN},t.mandatoryMetaColors=[n.red,n.green,n.blue,n.orange,n.purple,n.cyan,n.lime,n.brown],t.redirectUrl=new URL("/webrave-staging".endsWith("/")?"/webrave-staging":"/webrave-staging/",window.location.origin),console.log("RedirectUrl",{redirectUrl:t.redirectUrl,publicUrl:"/webrave-staging"}),t.awsAuth={Auth:{region:Object({NODE_ENV:"production",PUBLIC_URL:"/webrave-staging",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"0.1.4",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoibm9ydGhhcnJvd3Jlc2VhcmNoIiwiYSI6ImNrbDhjN25hcTIxZnYyb2xjOXZzaGxoMDcifQ.JlXGE_yO53x3iVlUb4MCLg",REACT_APP_GRAPHQL:"https://w3sczcn3l5.execute-api.us-west-2.amazonaws.com/staging/api",REACT_APP_WAREHOUSE_URL:"https://northarrowresearchlabs.github.io/riverscapes-staging"}).REACT_APP_AWS_REGION_DEPLOY,userPoolId:Object({NODE_ENV:"production",PUBLIC_URL:"/webrave-staging",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"0.1.4",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoibm9ydGhhcnJvd3Jlc2VhcmNoIiwiYSI6ImNrbDhjN25hcTIxZnYyb2xjOXZzaGxoMDcifQ.JlXGE_yO53x3iVlUb4MCLg",REACT_APP_GRAPHQL:"https://w3sczcn3l5.execute-api.us-west-2.amazonaws.com/staging/api",REACT_APP_WAREHOUSE_URL:"https://northarrowresearchlabs.github.io/riverscapes-staging"}).REACT_APP_AWS_USERPOOLID,userPoolWebClientId:Object({NODE_ENV:"production",PUBLIC_URL:"/webrave-staging",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"0.1.4",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoibm9ydGhhcnJvd3Jlc2VhcmNoIiwiYSI6ImNrbDhjN25hcTIxZnYyb2xjOXZzaGxoMDcifQ.JlXGE_yO53x3iVlUb4MCLg",REACT_APP_GRAPHQL:"https://w3sczcn3l5.execute-api.us-west-2.amazonaws.com/staging/api",REACT_APP_WAREHOUSE_URL:"https://northarrowresearchlabs.github.io/riverscapes-staging"}).REACT_APP_AWS_USERPOOLWEBCLIENTID,mandatorySignIn:!0,oauth:{domain:Object({NODE_ENV:"production",PUBLIC_URL:"/webrave-staging",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"0.1.4",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoibm9ydGhhcnJvd3Jlc2VhcmNoIiwiYSI6ImNrbDhjN25hcTIxZnYyb2xjOXZzaGxoMDcifQ.JlXGE_yO53x3iVlUb4MCLg",REACT_APP_GRAPHQL:"https://w3sczcn3l5.execute-api.us-west-2.amazonaws.com/staging/api",REACT_APP_WAREHOUSE_URL:"https://northarrowresearchlabs.github.io/riverscapes-staging"}).REACT_APP_HOSTED_DOMAIN,scope:["email","profile","openid"],redirectSignIn:t.redirectUrl,redirectSignOut:t.redirectUrl,responseType:"code"}}}},23:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.typeDefs=void 0,n(a(527),t),n(a(573),t),n(a(409),t);var l=a(574);Object.defineProperty(t,"typeDefs",{enumerable:!0,get:function(){return o(l).default}}),n(a(575),t),n(a(576),t),n(a(578),t)},299:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=r(a(175)),l=r(a(139)),i=r(a(33)),s=r(a(57)),c=r(a(278)),u=r(a(221)),d=r(a(140)),p=r(a(207)),m=r(a(141)),g=a(28),f=a(703),y=g.makeStyles((function(e){return{root:{},shareIconTitle:{},shareButtons:{margin:e.spacing(1,0),"&>*":{marginRight:e.spacing(1)}},flexGrow:{flexGrow:1},dlgTitle:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,display:"flex"},closeButton:{flex:"0 0"}}}));t.default=function(e){var t=e.open,a=e.shareUrl,r=e.handleClose,g=y();return n.default.createElement(l.default,{open:t,onClose:r,"aria-labelledby":"form-dialog-title"},n.default.createElement(m.default,{className:g.dlgTitle,disableTypography:!0},n.default.createElement(s.default,{color:"inherit"},n.default.createElement(c.default,{className:g.shareIconTitle})),n.default.createElement(i.default,{variant:"h4",className:g.flexGrow},"Share"),n.default.createElement("div",{className:g.closeButton},n.default.createElement(s.default,{onClick:r,color:"inherit"},n.default.createElement(u.default,null)))),n.default.createElement(d.default,null,n.default.createElement(p.default,null,"Copy this link and share it using your preferred method."),n.default.createElement(o.default,{value:a,margin:"dense",id:"name",variant:"outlined",fullWidth:!0,inputProps:{onClick:function(e){e.preventDefault(),e.target.select()}}}),n.default.createElement("div",{className:g.shareButtons},n.default.createElement(f.EmailShareButton,{url:a},n.default.createElement(f.EmailIcon,{size:32,round:!0})),n.default.createElement(f.TwitterShareButton,{url:a},n.default.createElement(f.TwitterIcon,{size:32,round:!0})),n.default.createElement(f.LinkedinShareButton,{url:a},n.default.createElement(f.LinkedinIcon,{size:32,round:!0})),n.default.createElement(f.FacebookShareButton,{url:a,quote:"title"},n.default.createElement(f.FacebookIcon,{size:32,round:!0})))))}},40:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},l=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.themes=t.useQueryParams=t.useProject=t.useProgram=t.useDownloads=t.NotAllowedModal=t.LoginScreen=t.ShareDialog=t.ProjectModal=t.ProgramChooser=t.WebRaveBtn=t.DownloadZipBtn=t.WarehouseTags=t.Topbar=t.Footer=void 0;var s=a(517);Object.defineProperty(t,"Footer",{enumerable:!0,get:function(){return i(s).default}});var c=a(522);Object.defineProperty(t,"Topbar",{enumerable:!0,get:function(){return i(c).default}});var u=a(426);Object.defineProperty(t,"WarehouseTags",{enumerable:!0,get:function(){return i(u).default}});var d=a(427);Object.defineProperty(t,"DownloadZipBtn",{enumerable:!0,get:function(){return i(d).default}});var p=a(429);Object.defineProperty(t,"WebRaveBtn",{enumerable:!0,get:function(){return i(p).default}});var m=a(584);Object.defineProperty(t,"ProgramChooser",{enumerable:!0,get:function(){return i(m).default}});var g=a(586);Object.defineProperty(t,"ProjectModal",{enumerable:!0,get:function(){return i(g).default}});var f=a(299);Object.defineProperty(t,"ShareDialog",{enumerable:!0,get:function(){return i(f).default}});var y=a(594);Object.defineProperty(t,"LoginScreen",{enumerable:!0,get:function(){return i(y).default}});var h=a(596);Object.defineProperty(t,"NotAllowedModal",{enumerable:!0,get:function(){return i(h).default}});var b=a(598);Object.defineProperty(t,"useDownloads",{enumerable:!0,get:function(){return i(b).default}});var x=a(599);Object.defineProperty(t,"useProgram",{enumerable:!0,get:function(){return i(x).default}});var w=a(600);Object.defineProperty(t,"useProject",{enumerable:!0,get:function(){return i(w).default}});var v=a(601);Object.defineProperty(t,"useQueryParams",{enumerable:!0,get:function(){return i(v).default}});var k=a(605);Object.defineProperty(t,"themes",{enumerable:!0,get:function(){return i(k).default}}),t.config=o(a(176)),l(a(606),t),l(a(430),t)},409:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectTreeLayerTileTypes=t.ProjectTreeLayerTypes=t.TileTypes=t.TilingStatus=t.AccessEnum=t.WarehouseRoleEnum=t.FieldTypeEnum=void 0,function(e){e.string="S",e.number="N",e.boolean="BOOL",e.stringArr="SARR",e.numberArr="NARR"}(t.FieldTypeEnum||(t.FieldTypeEnum={})),function(e){e.SuperUser="SUPER",e.Admin="ADMIN",e.Observer="OBSERVER",e.Participant="PARTICIPANT"}(t.WarehouseRoleEnum||(t.WarehouseRoleEnum={})),function(e){e.Public="PUBLIC",e.Private="PRIVATE",e.Secret="SECRET"}(t.AccessEnum||(t.AccessEnum={})),function(e){e.QUEUED="QUEUED",e.UNKNOWN="UNKNOWN",e.CREATING="CREATING",e.ERROR="ERROR",e.SUCCESS="SUCCESS"}(t.TilingStatus||(t.TilingStatus={})),function(e){e.RASTER="RASTER",e.VECTOR_SHP="VECTOR_SHP",e.VECTOR_GPKG="VECTOR_GPKG"}(t.TileTypes||(t.TileTypes={})),function(e){e.raster="RASTER",e.line="LINE",e.polygon="POLYGON",e.point="POINT",e.file="FILE",e.tin="TIN"}(r=t.ProjectTreeLayerTypes||(t.ProjectTreeLayerTypes={})),t.ProjectTreeLayerTileTypes=[r.raster,r.polygon,r.line,r.point]},426:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__spreadArray||function(e,t){for(var a=0,r=t.length,n=e.length;a<r;a++,n++)e[n]=t[a];return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(0)),i=o(a(33)),s=o(a(103));a(28).makeStyles((function(e){return{root:{marginLeft:e.spacing(1)/2},tooltip:{maxWidth:220}}}));t.default=function(e){var t=e.tags,a=e.typographyProps;return t?l.default.createElement(l.default.Fragment,null,t.reduce((function(e,t,o){return n(n([],e),[l.default.createElement(i.default,r({variant:"caption"},a,{key:"sep-"+o}),o>0&&", "),l.default.createElement(s.default,{key:"whTag-"+o,title:l.default.createElement(l.default.Fragment,null,l.default.createElement(i.default,{variant:"body1"},"Warehouse Tag: ",t),l.default.createElement(i.default,{variant:"caption"},"Warehouse tags can be added to delineate two identical projects in the warehouse"))},l.default.createElement(i.default,r({variant:"caption",color:"secondary"},a),t))])}),[])):null}},427:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(0)),l=n(a(33)),i=n(a(91)),s=n(a(57)),c=n(a(103)),u=n(a(177)),d=n(a(428)),p=n(a(300)),m=a(28).makeStyles((function(){return{root:{"& *":{cursor:"pointer"}},disabledButton:{opacity:.5}}}));t.default=function(e){var t=e.title,a=e.project,n=e.pendingSince,g=e.btnProps,f=e.downloadZipFile,y=m(),h=o.default.createElement(c.default,{title:o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{variant:"body1"},"Download Project Zip"),o.default.createElement(l.default,{variant:"caption",paragraph:!0},"Click to download this project as a single zip file"),o.default.createElement(l.default,{variant:"caption",paragraph:!0},"There may be a delay if the zip file needs to be built."))},t?o.default.createElement(i.default,r({variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation(),f(a)},startIcon:o.default.createElement(d.default,null)},g),t||"ZIP"):o.default.createElement(s.default,r({color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation(),f(a)}},g),o.default.createElement(d.default,null)));return n&&(h=o.default.createElement(c.default,{title:o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{variant:"body1"},"Preparing Zip"),o.default.createElement(l.default,{variant:"caption",paragraph:!0},"The warehouse is building your zip file for you."),o.default.createElement(l.default,{variant:"caption",paragraph:!0},"started ",p.default(n,"x").fromNow()))},o.default.createElement(i.default,r({variant:"outlined",disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0,color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation()},className:y.disabledButton,startIcon:o.default.createElement(u.default,{color:g&&g.color&&"secondary"===g.color?"primary":"secondary",size:24,thickness:6})},g),t||"ZIP"))),o.default.createElement("div",{className:y.root},h)}},429:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(0)),l=n(a(33)),i=n(a(91)),s=n(a(57)),c=n(a(103)),u=n(a(583)),d=a(28).makeStyles((function(){return{root:{"& *":{cursor:"pointer"}},disabledButton:{opacity:.5}}}));t.default=function(e){var t=e.title,a=e.project,n=e.url,p=e.btnProps,m=d();if(!n||0===n.length)return null;var g=n+"/"+a.program+"/"+a.id,f=o.default.createElement(c.default,{title:o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{variant:"body1"},"Explore using map"),o.default.createElement(l.default,{variant:"caption",paragraph:!0},"Explore this data set using an online map"))},t?o.default.createElement(i.default,r({variant:"contained",onClick:function(e){e.preventDefault(),e.stopPropagation(),window.open(g)},color:"primary",startIcon:o.default.createElement(u.default,null)},p),t||"MAP"):o.default.createElement(s.default,r({color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation(),window.open(g)}},p),o.default.createElement(u.default,null)));return o.default.createElement("div",{className:m.root},f)}},430:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.accessColors=void 0;var n=a(23),o=a(112);t.accessColors=((r={})[n.WarehouseRoleEnum.SuperUser]=o.pink,r[n.WarehouseRoleEnum.Admin]=o.red,r[n.WarehouseRoleEnum.Participant]=o.lime,r[n.WarehouseRoleEnum.Observer]=o.blue,r)},472:function(e){e.exports=JSON.parse('{"version":8,"name":"Satellite Streets","metadata":{"mapbox:type":"default","mapbox:origin":"satellite-streets-v11","mapbox:sdk-support":{"android":"9.3.0","ios":"5.10.0","js":"2.0.0"},"mapbox:autocomposite":true,"mapbox:groups":{"Satellite imagery, land":{"name":"Satellite imagery, land","collapsed":false},"Road network, tunnels-case":{"name":"Road network, tunnels-case","collapsed":false},"Walking, cycling, etc., tunnels":{"name":"Walking, cycling, etc., tunnels","collapsed":false},"Road network, tunnels":{"name":"Road network, tunnels","collapsed":false},"Walking, cycling, etc., surface":{"name":"Walking, cycling, etc., surface","collapsed":false},"Road network, surface":{"name":"Road network, surface","collapsed":false},"Road network, surface-icons":{"name":"Road network, surface-icons","collapsed":false},"Walking, cycling, etc., barriers-bridges":{"name":"Walking, cycling, etc., barriers-bridges","collapsed":false},"Road network, bridges":{"name":"Road network, bridges","collapsed":false},"Transit, elevated":{"name":"Transit, elevated","collapsed":false},"Administrative boundaries, admin":{"name":"Administrative boundaries, admin","collapsed":false},"Road network, road-labels":{"name":"Road network, road-labels","collapsed":false},"Transit, ferry-aerialway-labels":{"name":"Transit, ferry-aerialway-labels","collapsed":false},"Natural features, natural-labels":{"name":"Natural features, natural-labels","collapsed":false},"Point of interest labels, poi-labels":{"name":"Point of interest labels, poi-labels","collapsed":false},"Transit, transit-labels":{"name":"Transit, transit-labels","collapsed":false},"Place labels, place-labels":{"name":"Place labels, place-labels","collapsed":false}},"mapbox:decompiler":{"id":"satellite-streets-v11","componentVersion":"9.0.0","strata":[{"id":"satellite-streets-v11","order":[["transit","built"],["satellite","land"],["road-network","tunnels-case"],["walking-cycling","tunnels"],["road-network","tunnels"],["transit","ferries"],["walking-cycling","surface"],["road-network","surface"],["transit","surface"],["road-network","surface-icons"],["walking-cycling","barriers-bridges"],["road-network","bridges"],["transit","bridges"],["road-network","traffic-and-closures"],["transit","elevated"],["admin-boundaries","admin"],["road-network","road-labels"],["walking-cycling","walking-cycling-labels"],["transit","ferry-aerialway-labels"],["natural-features","natural-labels"],["point-of-interest-labels","poi-labels"],["transit","transit-labels"],["place-labels","place-labels"]]}],"components":{"satellite":"9.0.0","road-network":"9.0.0","walking-cycling":"9.0.0","admin-boundaries":"9.0.0","natural-features":"9.0.0","point-of-interest-labels":"9.0.0","transit":"9.0.0","place-labels":"9.0.0"},"propConfig":{"satellite":{},"road-network":{"roadsFont":["DIN Pro Medium","Arial Unicode MS Regular"],"color-road":"hsla(0, 0%, 90%, 0.5)","color-motorway-trunk":"hsla(36, 87%, 68%, 0.7)","construction":false,"color-road-label":"hsl(0, 0%, 100%)","fadeOutRoadsOnZoom":true,"railwayCrossings":false,"polygonFeatures":false,"color-base":"hsl(0, 0%, 0%)","minorRoads":false,"turningCircles":false,"color-road-outline":"hsla(0, 1%, 10%, 0.5)"},"walking-cycling":{"roadsFont":["DIN Pro Medium","Arial Unicode MS Regular"],"golfHoleLabelLine":false,"color-road":"hsla(0, 0%, 90%, 0.5)","color-greenspace":"hsl(94, 100%, 14%)","walkingCyclingPisteBackground":false,"color-road-label":"hsl(0, 0%, 100%)","color-greenspace-label":"hsl(94, 100%, 74%)","poiEtcFont":["DIN Pro Bold","Arial Unicode MS Bold"],"color-base":"hsl(0, 0%, 0%)","pedestrianPolygonFeatures":false,"color-road-outline":"hsla(0, 1%, 10%, 0.5)","labels":false},"admin-boundaries":{"admin0Width":1.5,"color-base":"hsl(0, 0%, 0%)","color-place-label":"hsl(0, 0%, 100%)","color-admin-boundary":"hsl(0, 0%, 0%)"},"natural-features":{"poiEtcFont":["DIN Pro Bold","Arial Unicode MS Bold"],"color-base":"hsl(0, 0%, 0%)","color-water":"hsl(196, 50%, 50%)","color-poi":"hsl(0, 0%, 100%)"},"point-of-interest-labels":{"poiEtcFont":["DIN Pro Bold","Arial Unicode MS Bold"],"color-base":"hsl(0, 0%, 0%)","color-poi":"hsl(0, 0%, 100%)","color-greenspace":"hsl(94, 100%, 14%)","color-greenspace-label":"hsl(94, 100%, 74%)","color-hospital":"hsl(0, 0%, 100%)","color-school":"hsl(0, 0%, 100%)"},"transit":{"color-airport":"hsl(0, 0%, 100%)","matchLabelAndIcon":false,"roadsFont":["DIN Pro Medium","Arial Unicode MS Regular"],"aeroways":false,"color-transit":"hsl(0, 0%, 100%)","color-road":"hsla(0, 0%, 90%, 0.5)","color-water":"hsl(196, 50%, 50%)","color-road-label":"hsl(0, 0%, 100%)","railways":false,"ferries":false,"poiEtcFont":["DIN Pro Bold","Arial Unicode MS Bold"],"color-base":"hsl(0, 0%, 0%)","color-road-outline":"hsla(0, 1%, 10%, 0.5)"},"place-labels":{"settlementsMinorFont":["DIN Pro Medium","Arial Unicode MS Regular"],"settlementSubdivisionsFont":["DIN Pro Medium","Arial Unicode MS Regular"],"color-base":"hsl(0, 0%, 0%)","color-place-label":"hsl(0, 0%, 100%)"}}}},"center":[-118.4106,33.750013],"zoom":13,"sources":{"mapbox://mapbox.satellite":{"url":"mapbox://mapbox.satellite","type":"raster","tileSize":256},"mapbox://mapbox.mapbox-traffic-v1":{"url":"mapbox://mapbox.mapbox-traffic-v1","type":"vector"},"composite":{"url":"mapbox://mapbox.mapbox-streets-v8","type":"vector"}},"sprite":"mapbox://sprites/northarrowresearch/ckmuw9x2e5f0417pe3vy7y0cz/55jsegcrpjhdm8ibxtin56tly","glyphs":"mapbox://fonts/northarrowresearch/{fontstack}/{range}.pbf","layers":[{"id":"background","type":"background","metadata":{"mapbox:featureComponent":"satellite","mapbox:group":"Satellite imagery, land"},"layout":{},"paint":{"background-color":"hsl(222, 56%, 4%)"}},{"id":"satellite","type":"raster","metadata":{"mapbox:featureComponent":"satellite","mapbox:group":"Satellite imagery, land"},"source":"mapbox://mapbox.satellite","layout":{},"paint":{}},{"id":"tunnel-street-minor-low","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link"],true,false],14,["match",["get","class"],["street","street_limited","primary_link","secondary_link","tertiary_link"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-color":"hsla(0, 0%, 90%, 0.5)","line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"tunnel-street-minor-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link"],true,false],14,["match",["get","class"],["street","street_limited","primary_link","secondary_link","tertiary_link"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsla(0, 0%, 0%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0],"line-dasharray":[3,3]}},{"id":"tunnel-primary-secondary-tertiary-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["primary","secondary","tertiary"],true,false],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,["match",["get","class"],"primary",1,0.75],18,2],"line-color":"hsla(0, 0%, 0%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],"primary",0.75,0.1],18,["match",["get","class"],"primary",32,26]],"line-dasharray":[3,3],"line-opacity":["interpolate",["linear"],["zoom"],13,0.3,15,0]}},{"id":"tunnel-major-link-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway_link","trunk_link"],true,false],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsla(0, 0%, 90%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-dasharray":[3,3],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"tunnel-motorway-trunk-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","trunk"],true,false],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-color":"hsla(0, 1%, 22%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-dasharray":[3,3],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"tunnel-path","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"path"],["!=",["get","type"],"steps"],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"hsl(0, 0%, 10%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[1,0.5]]]}},{"id":"tunnel-steps","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","type"],"steps"],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"hsl(0, 0%, 10%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]}},{"id":"tunnel-pedestrian","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"hsl(0, 0%, 10%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]}},{"id":"tunnel-major-link","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway_link","trunk_link"],true,false],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-color":["match",["get","class"],"motorway_link","hsla(26, 100%, 78%, 0.7)","hsla(46, 77%, 78%, 0.7)"],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"tunnel-street-minor","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link"],true,false],14,["match",["get","class"],["street","street_limited","primary_link","secondary_link","tertiary_link"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-color":["match",["get","class"],"street_limited","hsl(0, 2%, 22%)","hsla(0, 0%, 90%, 0.5)"],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"tunnel-primary-secondary-tertiary","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["primary","secondary","tertiary"],true,false],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],"primary",0.75,0.1],18,["match",["get","class"],"primary",32,26]],"line-color":"hsla(0, 0%, 90%, 0.5)","line-opacity":["interpolate",["linear"],["zoom"],13,0.3,15,0]}},{"id":"tunnel-oneway-arrow-blue","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},"source":"composite","source-layer":"road","minzoom":15,"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","oneway"],"true"],["step",["zoom"],["match",["get","class"],["primary","secondary","street","street_limited","tertiary"],true,false],16,["match",["get","class"],["primary","secondary","tertiary","street","street_limited","primary_link","secondary_link","tertiary_link"],true,false]]],"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-small",17,["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],"oneway-large","oneway-small"],18,"oneway-large"],"symbol-spacing":200,"icon-rotation-alignment":"map"},"paint":{}},{"id":"tunnel-motorway-trunk","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","trunk"],true,false],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-color":["match",["get","class"],"motorway","hsla(26, 100%, 78%, 0.7)","hsla(46, 77%, 78%, 0.7)"],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"tunnel-oneway-arrow-white","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},"source":"composite","source-layer":"road","minzoom":16,"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link"],true,false],["==",["get","oneway"],"true"]],"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-white-small",17,"oneway-white-large"],"symbol-spacing":200},"paint":{}},{"id":"road-path","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":12,"filter":["all",["==",["get","class"],"path"],["step",["zoom"],["!",["match",["get","type"],["steps","sidewalk","crossing"],true,false]],16,["!=",["get","type"],"steps"]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],13,0.5,14,1,15,1,18,4],"line-color":"hsl(0, 0%, 22%)","line-dasharray":["step",["zoom"],["literal",[4,0.3]],15,["literal",[1.75,0.3]],16,["literal",[1,0.3]],17,["literal",[1,0.25]]]}},{"id":"road-steps","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","type"],"steps"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"hsl(0, 0%, 22%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]}},{"id":"road-pedestrian","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":12,"filter":["all",["==",["get","class"],"pedestrian"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"hsl(0, 0%, 22%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]}},{"id":"road-minor-low","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["step",["zoom"],false,14,["match",["get","class"],["secondary_link","tertiary_link"],true,false]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,["match",["get","class"],"track",1,0.5],18,12],"line-color":"hsla(0, 0%, 90%, 0.5)","line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"road-minor-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["step",["zoom"],false,14,["match",["get","class"],["secondary_link","tertiary_link"],true,false]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsla(0, 1%, 10%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,["match",["get","class"],"track",1,0.5],18,12],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"road-street-low","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":11,"filter":["all",["match",["get","class"],["street","street_limited","primary_link"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-color":"hsla(0, 0%, 90%, 0.5)","line-opacity":["interpolate",["linear"],["zoom"],13,0.3,15,0]}},{"id":"road-street-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":11,"filter":["all",["match",["get","class"],["street","street_limited","primary_link"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsla(0, 1%, 10%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-opacity":["interpolate",["linear"],["zoom"],13,0.3,15,0]}},{"id":"road-secondary-tertiary-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":8,"filter":["all",["match",["get","class"],["secondary","tertiary"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,0.75,18,2],"line-color":"hsla(0, 1%, 10%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.1,18,26],"line-opacity":["interpolate",["linear"],["zoom"],13,0.3,15,0]}},{"id":"road-primary-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":7,"filter":["all",["==",["get","class"],"primary"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-color":"hsla(0, 1%, 10%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"road-major-link-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":10,"filter":["all",["match",["get","class"],["motorway_link","trunk_link"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsla(0, 1%, 22%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"road-motorway-trunk-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":5,"filter":["all",["match",["get","class"],["motorway","trunk"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-color":"hsla(0, 1%, 22%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"road-major-link","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":10,"filter":["all",["match",["get","class"],["motorway_link","trunk_link"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-color":["match",["get","class"],"motorway_link","hsla(26, 100%, 68%, 0.7)","hsla(46, 87%, 68%, 0.7)"],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"road-minor","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["step",["zoom"],false,14,["match",["get","class"],["secondary_link","tertiary_link"],true,false]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,["match",["get","class"],"track",1,0.5],18,12],"line-color":"hsla(0, 0%, 90%, 0.5)","line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"road-street","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":11,"filter":["all",["match",["get","class"],["street","street_limited","primary_link"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-color":["match",["get","class"],"street_limited","hsl(0, 2%, 22%)","hsla(0, 0%, 90%, 0.5)"],"line-opacity":["interpolate",["linear"],["zoom"],13,0.3,15,0]}},{"id":"road-secondary-tertiary","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":8,"filter":["all",["match",["get","class"],["secondary","tertiary"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.1,18,26],"line-color":"hsla(0, 0%, 90%, 0.5)","line-opacity":["interpolate",["linear"],["zoom"],13,0.3,15,0]}},{"id":"road-primary","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":6,"filter":["all",["==",["get","class"],"primary"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-color":"hsla(0, 0%, 90%, 0.5)","line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"road-oneway-arrow-blue","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":15,"filter":["all",["==",["get","oneway"],"true"],["step",["zoom"],["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],true,false],16,["match",["get","class"],["primary","secondary","tertiary","street","street_limited","primary_link","secondary_link","tertiary_link"],true,false]],["match",["get","structure"],["none","ford"],true,false]],"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-small",17,["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],"oneway-large","oneway-small"],18,"oneway-large"],"symbol-spacing":200,"icon-rotation-alignment":"map"},"paint":{}},{"id":"road-motorway-trunk","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","filter":["all",["match",["get","class"],["motorway","trunk"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-color":["step",["zoom"],["match",["get","class"],"motorway","hsla(26, 87%, 62%, 0.7)","hsla(0, 0%, 90%, 0.5)"],6,["match",["get","class"],"motorway","hsla(26, 87%, 62%, 0.7)","hsla(46, 80%, 60%, 0.7)"],9,["match",["get","class"],"motorway","hsla(26, 100%, 68%, 0.7)","hsla(46, 87%, 68%, 0.7)"]],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"road-oneway-arrow-white","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface-icons"},"source":"composite","source-layer":"road","minzoom":16,"filter":["all",["==",["get","oneway"],"true"],["match",["get","class"],["motorway","trunk","motorway_link","trunk_link"],true,false],["match",["get","structure"],["none","ford"],true,false]],"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-white-small",17,"oneway-white-large"],"symbol-spacing":200},"paint":{}},{"id":"bridge-path","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., barriers-bridges"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"path"],["==",["geometry-type"],"LineString"],["!=",["get","type"],"steps"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"hsl(0, 0%, 22%)","line-dasharray":["step",["zoom"],["literal",[4,0.3]],15,["literal",[1.75,0.3]],16,["literal",[1,0.3]],17,["literal",[1,0.25]]]}},{"id":"bridge-steps","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., barriers-bridges"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","type"],"steps"],["==",["get","structure"],"bridge"],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"hsl(0, 0%, 22%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]}},{"id":"bridge-pedestrian","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., barriers-bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"hsl(0, 0%, 22%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]}},{"id":"bridge-street-minor-low","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link"],true,false],14,["match",["get","class"],["street","street_limited","primary_link","secondary_link","tertiary_link"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-color":"hsla(0, 0%, 90%, 0.5)","line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-street-minor-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link"],true,false],14,["match",["get","class"],["street","street_limited","primary_link","secondary_link","tertiary_link"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsla(0, 1%, 10%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-primary-secondary-tertiary-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["primary","secondary","tertiary"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,["match",["get","class"],"primary",1,0.75],18,2],"line-color":"hsla(0, 1%, 10%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],"primary",0.75,0.1],18,["match",["get","class"],"primary",32,26]],"line-opacity":["interpolate",["linear"],["zoom"],13,0.3,15,0]}},{"id":"bridge-major-link-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway_link","trunk_link"],true,false],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsla(0, 1%, 22%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-motorway-trunk-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk"],true,false],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-color":"hsla(0, 1%, 22%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-major-link","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway_link","trunk_link"],true,false],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-color":["match",["get","class"],"motorway_link","hsla(26, 100%, 68%, 0.7)","hsla(46, 87%, 68%, 0.7)"],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-street-minor","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link"],true,false],14,["match",["get","class"],["street","street_limited","primary_link","secondary_link","tertiary_link"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-color":["match",["get","class"],"street_limited","hsl(0, 2%, 22%)","hsla(0, 0%, 90%, 0.5)"],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-primary-secondary-tertiary","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["primary","secondary","tertiary"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],"primary",0.75,0.1],18,["match",["get","class"],"primary",32,26]],"line-color":"hsla(0, 0%, 90%, 0.5)","line-opacity":["interpolate",["linear"],["zoom"],13,0.3,15,0]}},{"id":"bridge-oneway-arrow-blue","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":15,"filter":["all",["==",["get","structure"],"bridge"],["==",["get","oneway"],"true"],["step",["zoom"],["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],true,false],16,["match",["get","class"],["primary","secondary","tertiary","street","street_limited","primary_link","secondary_link","tertiary_link"],true,false]]],"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-small",17,["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],"oneway-large","oneway-small"],18,"oneway-large"],"symbol-spacing":200,"icon-rotation-alignment":"map"},"paint":{}},{"id":"bridge-motorway-trunk","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk"],true,false],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-color":["match",["get","class"],"motorway","hsla(26, 100%, 68%, 0.7)","hsla(46, 87%, 68%, 0.7)"],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-major-link-2-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway_link","trunk_link"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsla(0, 1%, 22%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-motorway-trunk-2-case","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway","trunk"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-color":"hsla(0, 1%, 22%, 0.5)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-major-link-2","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway_link","trunk_link"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-color":["match",["get","class"],"motorway_link","hsla(26, 100%, 68%, 0.7)","hsla(46, 87%, 68%, 0.7)"],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-motorway-trunk-2","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway","trunk"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-color":["match",["get","class"],"motorway","hsla(26, 100%, 68%, 0.7)","hsla(46, 87%, 68%, 0.7)"],"line-opacity":["interpolate",["linear"],["zoom"],13,1,15,0]}},{"id":"bridge-oneway-arrow-white","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":16,"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk","motorway_link","trunk_link"],true,false],["==",["get","oneway"],"true"]],"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-white-small",17,"oneway-white-large"],"symbol-spacing":200},"paint":{}},{"id":"aerialway","type":"line","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, elevated"},"source":"composite","source-layer":"road","minzoom":12,"filter":["==",["get","class"],"aerialway"],"layout":{"line-join":"round"},"paint":{"line-color":"hsla(0, 0%, 25%, 0.5)","line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,20,1]}},{"id":"admin-1-boundary-bg","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":7,"filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"bevel"},"paint":{"line-color":["interpolate",["linear"],["zoom"],8,"hsl(0, 0%, 14%)",16,"hsl(0, 0%, 30%)"],"line-width":["interpolate",["linear"],["zoom"],7,3.75,12,5.5],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,0.75],"line-dasharray":[1,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,8,3]}},{"id":"admin-0-boundary-bg","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{},"paint":{"line-width":["interpolate",["linear"],["zoom"],3,5.25,10,12],"line-color":["interpolate",["linear"],["zoom"],6,"hsl(0, 0%, 14%)",8,"hsl(0, 0%, 30%)"],"line-opacity":["interpolate",["linear"],["zoom"],3,0,4,0.5],"line-blur":["interpolate",["linear"],["zoom"],3,0,10,3]}},{"id":"admin-1-boundary","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":2,"filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]],"line-width":["interpolate",["linear"],["zoom"],7,0.75,12,1.5],"line-opacity":["interpolate",["linear"],["zoom"],2,0,3,1],"line-color":["interpolate",["linear"],["zoom"],3,"hsl(0, 0%, 0%)",7,"hsl(0, 0%, 5%)"]}},{"id":"admin-0-boundary","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-color":"hsl(0, 0%, 0%)","line-width":["interpolate",["linear"],["zoom"],3,0.75,10,3],"line-dasharray":[10,0]}},{"id":"admin-0-boundary-disputed","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","disputed"],"true"],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 0%)","line-width":["interpolate",["linear"],["zoom"],3,0.75,10,3],"line-dasharray":["step",["zoom"],["literal",[3.25,3.25]],6,["literal",[2.5,2.5]],7,["literal",[2,2.25]],8,["literal",[1.75,2]]]}},{"id":"road-label","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},"source":"composite","source-layer":"road","minzoom":10,"filter":["step",["zoom"],["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],true,false],12,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street","street_limited"],true,false],15,["match",["get","class"],["path","pedestrian","golf","ferry","aerialway","track","service"],false,true]],"layout":{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],10,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],9,6.5],18,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],16,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],14,13]],"text-max-angle":30,"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":0.01},"paint":{"text-color":"hsl(0, 0%, 100%)","text-halo-color":["match",["get","class"],["motorway","trunk"],"hsla(0, 5%, 0%, 0.75)","hsl(0, 5%, 0%)"],"text-halo-width":1,"text-halo-blur":1}},{"id":"road-intersection","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},"source":"composite","source-layer":"road","minzoom":15,"filter":["all",["==",["get","class"],"intersection"],["has","name"]],"layout":{"text-field":["coalesce",["get","name_en"],["get","name"]],"icon-image":"intersection","icon-text-fit":"both","icon-text-fit-padding":[1,2,1,2],"text-size":["interpolate",["exponential",1.2],["zoom"],15,9,18,12],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"]},"paint":{"text-color":"hsl(230, 57%, 64%)"}},{"id":"road-number-shield","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},"source":"composite","source-layer":"road","minzoom":6,"filter":["all",["has","reflen"],["<=",["get","reflen"],6],["step",["zoom"],["==",["geometry-type"],"Point"],11,[">",["get","len"],5000],12,[">",["get","len"],2500],13,[">",["get","len"],1000],14,true]],"layout":{"text-size":9,"icon-image":["concat",["get","shield"],"-",["to-string",["get","reflen"]]],"icon-rotation-alignment":"viewport","text-max-angle":38,"symbol-spacing":["interpolate",["linear"],["zoom"],11,150,14,200],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"symbol-placement":["step",["zoom"],"point",11,"line"],"text-rotation-alignment":"viewport","text-field":["get","ref"],"text-letter-spacing":0.05},"paint":{"text-color":["match",["get","shield_text_color"],"white","hsl(0, 0%, 100%)","yellow","hsl(50, 100%, 70%)","orange","hsl(25, 100%, 75%)","blue","hsl(230, 57%, 44%)","hsl(230, 18%, 13%)"]}},{"id":"road-exit-shield","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},"source":"composite","source-layer":"motorway_junction","minzoom":14,"filter":["all",["has","reflen"],["<=",["get","reflen"],9]],"layout":{"text-field":["get","ref"],"text-size":9,"icon-image":["concat","motorway-exit-",["to-string",["get","reflen"]]],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"]},"paint":{"text-color":"hsl(0, 0%, 100%)","text-translate":[0,0]}},{"id":"ferry-aerialway-label","type":"symbol","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, ferry-aerialway-labels"},"source":"composite","source-layer":"road","minzoom":15,"filter":["match",["get","class"],"aerialway",true,false],"layout":{"text-size":["interpolate",["linear"],["zoom"],10,6.5,18,13],"text-max-angle":30,"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":0.01},"paint":{"text-color":["match",["get","class"],"ferry","hsl(196, 18%, 86%)","hsl(0, 0%, 100%)"],"text-halo-color":["match",["get","class"],"ferry","hsl(196, 50%, 50%)","hsl(0, 5%, 0%)"],"text-halo-width":1,"text-halo-blur":1}},{"id":"waterway-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","minzoom":13,"filter":["all",["match",["get","class"],["canal","river","stream"],["match",["get","worldview"],["all","US"],true,false],["disputed_canal","disputed_river","disputed_stream"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["==",["geometry-type"],"LineString"]],"layout":{"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-size":["interpolate",["linear"],["zoom"],13,12,18,16],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"text-color":"hsl(196, 18%, 90%)"}},{"id":"natural-line-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["match",["get","class"],["glacier","landform"],["match",["get","worldview"],["all","US"],true,false],["disputed_glacier","disputed_landform"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["==",["geometry-type"],"LineString"],["<=",["get","filterrank"],2]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"symbol-placement":"line-center","text-pitch-alignment":"viewport"},"paint":{"text-halo-width":0.5,"text-halo-color":"hsl(0, 5%, 0%)","text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(0, 0%, 100%)",5,"hsl(0, 0%, 100%)"],17,["step",["get","sizerank"],"hsl(0, 0%, 100%)",13,"hsl(0, 0%, 100%)"]]}},{"id":"natural-point-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland"],["match",["get","worldview"],["all","US"],true,false],["disputed_dock","disputed_glacier","disputed_landform","disputed_water_feature","disputed_wetland"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["==",["geometry-type"],"Point"],["<=",["get","filterrank"],2]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"hsl(0, 5%, 0%)","text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(0, 0%, 100%)",5,"hsl(0, 0%, 100%)"],17,["step",["get","sizerank"],"hsl(0, 0%, 100%)",13,"hsl(0, 0%, 100%)"]]}},{"id":"water-line-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","filter":["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],["match",["get","worldview"],["all","US"],true,false],["disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["==",["geometry-type"],"LineString"]],"layout":{"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],20,6,18,12,12],10,["step",["get","sizerank"],15,9,12],18,["step",["get","sizerank"],15,9,14]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",0.25,["sea","bay"],0.15,0],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(196, 46%, 70%)","hsl(196, 18%, 90%)"]}},{"id":"water-point-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","filter":["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],["match",["get","worldview"],["all","US"],true,false],["disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["==",["geometry-type"],"Point"]],"layout":{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],20,6,15,12,12],10,["step",["get","sizerank"],15,9,12]],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",0.25,["bay","sea"],0.15,0.01],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10]},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(196, 46%, 70%)","hsl(196, 18%, 90%)"]}},{"id":"poi-label","type":"symbol","metadata":{"mapbox:featureComponent":"point-of-interest-labels","mapbox:group":"Point of interest labels, poi-labels"},"source":"composite","source-layer":"poi_label","minzoom":6,"filter":["<=",["get","filterrank"],["+",["step",["zoom"],0,16,1,17,2],3]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["case",["has","maki_beta"],["image",["concat",["get","maki_beta"],"-11"]],["image",["concat",["get","maki"],"-11"]]],15,["case",["has","maki_beta"],["image",["concat",["get","maki_beta"],"-15"]],["image",["concat",["get","maki"],"-15"]]]],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":["match",["get","class"],"park_like","hsl(94, 100%, 0%)","medical","hsl(0, 5%, 3%)","hsl(0, 5%, 0%)"],"text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(356, 0%, 100%)","park_like","hsl(94, 100%, 84%)","hsl(0, 0%, 100%)"],5,["match",["get","class"],"food_and_drink","hsl(356, 0%, 100%)","park_like","hsl(94, 100%, 73%)","hsl(0, 0%, 100%)"]],17,["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(356, 0%, 100%)","park_like","hsl(94, 100%, 84%)","hsl(0, 0%, 100%)"],13,["match",["get","class"],"food_and_drink","hsl(356, 0%, 100%)","park_like","hsl(94, 100%, 73%)","hsl(0, 0%, 100%)"]]]}},{"id":"transit-label","type":"symbol","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, transit-labels"},"source":"composite","source-layer":"transit_stop_label","minzoom":12,"filter":["step",["zoom"],["all",["match",["get","mode"],"rail",true,"metro_rail",true,false],["!=",["get","stop_type"],"entrance"]],15,["all",["match",["get","mode"],"rail",true,"metro_rail",true,"light_rail",true,false],["!=",["get","stop_type"],"entrance"]],16,["all",["match",["get","mode"],"ferry",false,"bus",false,true],["!=",["get","stop_type"],"entrance"]],17,["all",["match",["get","mode"],"ferry",false,true],["!=",["get","stop_type"],"entrance"]],19,["match",["get","mode"],"ferry",false,true]],"layout":{"text-size":12,"icon-image":["get","network"],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-justify":["match",["get","stop_type"],"entrance","left","center"],"text-offset":["match",["get","stop_type"],"entrance",["literal",[1,0]],["literal",[0,0.8]]],"text-anchor":["match",["get","stop_type"],"entrance","left","top"],"text-field":["step",["zoom"],"",14,["match",["get","mode"],["rail","metro_rail"],["coalesce",["get","name_en"],["get","name"]],""],16,["match",["get","mode"],["bus","bicycle"],"",["coalesce",["get","name_en"],["get","name"]]],18,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":0.01,"text-max-width":["match",["get","stop_type"],"entrance",15,9]},"paint":{"text-halo-color":"hsl(0, 5%, 0%)","text-color":"hsl(0, 0%, 100%)","text-halo-blur":0.5,"text-halo-width":0.5}},{"id":"airport-label","type":"symbol","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, transit-labels"},"source":"composite","source-layer":"airport_label","minzoom":8,"filter":["match",["get","class"],["military","civil"],["match",["get","worldview"],["all","US"],true,false],["disputed_military","disputed_civil"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],"layout":{"text-line-height":1.1,"text-size":["step",["get","sizerank"],18,9,12],"icon-image":["step",["get","sizerank"],["concat",["get","maki"],"-15"],9,["concat",["get","maki"],"-11"]],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-offset":[0,0.75],"text-rotation-alignment":"viewport","text-anchor":"top","text-field":["step",["get","sizerank"],["coalesce",["get","name_en"],["get","name"]],15,["get","ref"]],"text-letter-spacing":0.01,"text-max-width":9},"paint":{"text-color":"hsl(0, 0%, 100%)","text-halo-color":"hsl(0, 20%, 3%)","text-halo-width":1}},{"id":"settlement-subdivision-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","minzoom":10,"maxzoom":15,"filter":["all",["match",["get","class"],"settlement_subdivision",["match",["get","worldview"],["all","US"],true,false],"disputed_settlement_subdivision",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["<=",["get","filterrank"],4]],"layout":{"text-field":["coalesce",["get","name_en"],["get","name"]],"text-transform":"uppercase","text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-letter-spacing":["match",["get","type"],"suburb",0.15,0.1],"text-max-width":7,"text-padding":3,"text-size":["interpolate",["cubic-bezier",0.5,0,1,1],["zoom"],11,["match",["get","type"],"suburb",11,10.5],15,["match",["get","type"],"suburb",15,14]]},"paint":{"text-halo-color":"hsla(0, 5%, 0%, 0.75)","text-halo-width":1,"text-color":"hsl(0, 0%, 100%)","text-halo-blur":0.5}},{"id":"settlement-minor-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","maxzoom":15,"filter":["all",["<=",["get","filterrank"],3],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],true,false],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["step",["zoom"],true,8,[">=",["get","symbolrank"],11],10,[">=",["get","symbolrank"],12],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]],"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],3,["step",["get","symbolrank"],12,9,11,10,10.5,12,9.5,14,8.5,16,6.5,17,4],13,["step",["get","symbolrank"],23,9,21,10,19,11,17,12,16,13,15,15,13]],"icon-image":["step",["zoom"],["case",["==",["get","capital"],2],"border-dot-13",["step",["get","symbolrank"],"dot-11",9,"dot-10",11,"dot-9"]],8,""],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],8,"center"],"text-offset":["step",["zoom"],["match",["get","capital"],2,["match",["get","text_anchor"],"bottom",["literal",[0,-0.3]],"bottom-left",["literal",[0.3,-0.1]],"left",["literal",[0.45,0.1]],"top-left",["literal",[0.3,0.1]],"top",["literal",[0,0.3]],"top-right",["literal",[-0.3,0.1]],"right",["literal",[-0.45,0]],"bottom-right",["literal",[-0.3,-0.1]],["literal",[0,-0.3]]],["match",["get","text_anchor"],"bottom",["literal",[0,-0.25]],"bottom-left",["literal",[0.2,-0.05]],"left",["literal",[0.4,0.05]],"top-left",["literal",[0.2,0.05]],"top",["literal",[0,0.25]],"top-right",["literal",[-0.2,0.05]],"right",["literal",[-0.4,0.05]],"bottom-right",["literal",[-0.2,-0.05]],["literal",[0,-0.25]]]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],["get","text_anchor"],8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},"paint":{"text-color":"hsl(0, 0%, 95%)","text-halo-color":"hsl(0, 5%, 0%)","text-halo-width":1,"text-halo-blur":1}},{"id":"settlement-major-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","maxzoom":15,"filter":["all",["<=",["get","filterrank"],3],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],true,false],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["step",["zoom"],false,8,["<",["get","symbolrank"],11],10,["<",["get","symbolrank"],12],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]],"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],8,["step",["get","symbolrank"],18,9,17,10,15],15,["step",["get","symbolrank"],23,9,22,10,20,11,18,12,16,13,15,15,13]],"icon-image":["step",["zoom"],["case",["==",["get","capital"],2],"border-dot-13",["step",["get","symbolrank"],"dot-11",9,"dot-10",11,"dot-9"]],8,""],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],8,"center"],"text-offset":["step",["zoom"],["match",["get","capital"],2,["match",["get","text_anchor"],"bottom",["literal",[0,-0.3]],"bottom-left",["literal",[0.3,-0.1]],"left",["literal",[0.45,0.1]],"top-left",["literal",[0.3,0.1]],"top",["literal",[0,0.3]],"top-right",["literal",[-0.3,0.1]],"right",["literal",[-0.45,0]],"bottom-right",["literal",[-0.3,-0.1]],["literal",[0,-0.3]]],["match",["get","text_anchor"],"bottom",["literal",[0,-0.25]],"bottom-left",["literal",[0.2,-0.05]],"left",["literal",[0.4,0.05]],"top-left",["literal",[0.2,0.05]],"top",["literal",[0,0.25]],"top-right",["literal",[-0.2,0.05]],"right",["literal",[-0.4,0.05]],"bottom-right",["literal",[-0.2,-0.05]],["literal",[0,-0.25]]]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],["get","text_anchor"],8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},"paint":{"text-color":"hsl(0, 0%, 95%)","text-halo-color":"hsl(0, 5%, 0%)","text-halo-width":1,"text-halo-blur":1}},{"id":"state-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","minzoom":3,"maxzoom":9,"filter":["match",["get","class"],"state",["match",["get","worldview"],["all","US"],true,false],"disputed_state",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],"layout":{"text-size":["interpolate",["cubic-bezier",0.85,0.7,0.65,1],["zoom"],4,["step",["get","symbolrank"],10,6,9.5,7,9],9,["step",["get","symbolrank"],21,6,16,7,13]],"text-transform":"uppercase","text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-field":["step",["zoom"],["step",["get","symbolrank"],["coalesce",["get","name_en"],["get","name"]],5,["coalesce",["get","abbr"],["get","name_en"],["get","name"]]],5,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":0.15,"text-max-width":6},"paint":{"text-color":"hsl(0, 0%, 95%)","text-halo-color":"hsl(0, 5%, 0%)","text-halo-width":1}},{"id":"country-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","minzoom":1,"maxzoom":10,"filter":["match",["get","class"],"country",["match",["get","worldview"],["all","US"],true,false],"disputed_country",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.7,1],["zoom"],1,["step",["get","symbolrank"],11,4,9,5,8],9,["step",["get","symbolrank"],22,4,19,5,17]],"icon-image":"","text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],7,"center"],"text-offset":["literal",[0,0]],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":6},"paint":{"icon-opacity":["step",["zoom"],["case",["has","text_anchor"],1,0],7,0],"text-color":"hsl(0, 0%, 95%)","text-halo-color":["interpolate",["linear"],["zoom"],2,"hsla(0, 5%, 0%, 0.75)",3,"hsl(0, 5%, 0%)"],"text-halo-width":1.25}}],"created":"2021-03-29T17:58:09.569Z","modified":"2021-03-29T17:58:21.965Z","id":"ckmuw9x2e5f0417pe3vy7y0cz","owner":"northarrowresearch","visibility":"private","draft":false}')},473:function(e){e.exports=JSON.parse('{"version":8,"name":"Basic","metadata":{"mapbox:type":"default","mapbox:origin":"basic-v1","mapbox:sdk-support":{"android":"9.3.0","ios":"5.10.0","js":"2.0.0"},"mapbox:autocomposite":true,"mapbox:groups":{"Land, water, & sky, land":{"name":"Land, water, & sky, land","collapsed":false},"Land, water, & sky, water":{"name":"Land, water, & sky, water","collapsed":false},"Land, water, & sky, built":{"name":"Land, water, & sky, built","collapsed":false},"Transit, built":{"name":"Transit, built","collapsed":false},"Buildings, built":{"name":"Buildings, built","collapsed":false},"Walking, cycling, etc., tunnels":{"name":"Walking, cycling, etc., tunnels","collapsed":false},"Road network, tunnels":{"name":"Road network, tunnels","collapsed":false},"Walking, cycling, etc., surface":{"name":"Walking, cycling, etc., surface","collapsed":false},"Road network, surface":{"name":"Road network, surface","collapsed":false},"Walking, cycling, etc., barriers-bridges":{"name":"Walking, cycling, etc., barriers-bridges","collapsed":false},"Road network, bridges":{"name":"Road network, bridges","collapsed":false},"Administrative boundaries, admin":{"name":"Administrative boundaries, admin","collapsed":false},"Road network, road-labels":{"name":"Road network, road-labels","collapsed":false},"Walking, cycling, etc., walking-cycling-labels":{"name":"Walking, cycling, etc., walking-cycling-labels","collapsed":false},"Natural features, natural-labels":{"name":"Natural features, natural-labels","collapsed":false},"Point of interest labels, poi-labels":{"name":"Point of interest labels, poi-labels","collapsed":false},"Transit, transit-labels":{"name":"Transit, transit-labels","collapsed":false},"Place labels, place-labels":{"name":"Place labels, place-labels","collapsed":false}},"mapbox:decompiler":{"id":"basic-v1","componentVersion":"9.0.0","strata":[{"id":"basic-v1","order":[["land-and-water","land"],["land-and-water","water"],["land-and-water","built"],["transit","built"],["buildings","built"],["road-network","tunnels-case"],["walking-cycling","tunnels"],["road-network","tunnels"],["transit","ferries"],["walking-cycling","surface"],["road-network","surface"],["transit","surface"],["road-network","surface-icons"],["walking-cycling","barriers-bridges"],["road-network","bridges"],["transit","bridges"],["road-network","traffic-and-closures"],["buildings","extruded"],["transit","elevated"],["admin-boundaries","admin"],["buildings","building-labels"],["road-network","road-labels"],["walking-cycling","walking-cycling-labels"],["transit","ferry-aerialway-labels"],["natural-features","natural-labels"],["point-of-interest-labels","poi-labels"],["transit","transit-labels"],["place-labels","place-labels"],["land-and-water","sky"]]}],"components":{"road-network":"9.0.0","natural-features":"9.0.0","place-labels":"9.0.0","admin-boundaries":"9.0.0","point-of-interest-labels":"9.0.0","walking-cycling":"9.0.0","transit":"9.0.0","land-and-water":"9.0.0","buildings":"9.0.0"},"propConfig":{"road-network":{"color-base":"hsl(40, 48%, 92%)","color-road":"hsl(38, 55%, 100%)","roadNetwork":"Simple"},"natural-features":{"color-base":"hsl(40, 48%, 92%)","color-water":"hsl(205, 76%, 70%)","color-poi":"hsl(26, 20%, 38%)"},"place-labels":{"color-base":"hsl(40, 48%, 92%)","color-place-label":"hsl(0, 0%, 15%)","settlementSubdivisionsDensity":3,"settlementLabelStyle":"Text only"},"admin-boundaries":{"color-base":"hsl(40, 48%, 92%)","color-place-label":"hsl(0, 0%, 15%)"},"point-of-interest-labels":{"color-base":"hsl(40, 48%, 92%)","color-greenspace":"hsl(78, 50%, 73%)","color-greenspace-label":"hsl(76, 50%, 16%)","color-hospital":"hsl(3, 45%, 55%)","color-school":"hsl(40, 45%, 45%)","color-poi":"hsl(26, 20%, 38%)","density":2},"walking-cycling":{"color-base":"hsl(40, 48%, 92%)","color-road":"hsl(38, 55%, 100%)","color-greenspace":"hsl(78, 50%, 73%)","color-greenspace-label":"hsl(76, 50%, 16%)","walkingCyclingPisteBackground":false,"golfHoleLabelLine":false,"pedestrianPolygonFeatures":false},"transit":{"color-airport":"hsl(225, 4%, 40%)","color-transit":"hsl(345, 6%, 40%)","aerialways":false,"color-road":"hsl(38, 55%, 100%)","color-water":"hsl(205, 76%, 70%)","transitLabels":false,"railways":false,"ferries":false,"color-base":"hsl(40, 48%, 92%)"},"land-and-water":{"color-airport":"hsl(225, 4%, 40%)","color-hospital":"hsl(3, 45%, 55%)","landType":"Landuse only","color-greenspace":"hsl(78, 50%, 73%)","color-water":"hsl(205, 76%, 70%)","transitionLandOnZoom":false,"waterStyle":"Simple","color-base":"hsl(40, 48%, 92%)","color-school":"hsl(40, 45%, 45%)"},"buildings":{"color-base":"hsl(40, 48%, 92%)","houseNumbers":false}}}},"center":[2.3176,48.8665],"zoom":12,"sources":{"mapbox://mapbox.mapbox-traffic-v1":{"url":"mapbox://mapbox.mapbox-traffic-v1","type":"vector"},"composite":{"url":"mapbox://mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2","type":"vector"}},"sprite":"mapbox://sprites/northarrowresearch/ckmuv21s85dd317s3sii3rhg7/5aimie0s459ihq4jyhsfvi0wl","glyphs":"mapbox://fonts/northarrowresearch/{fontstack}/{range}.pbf","layers":[{"id":"land","type":"background","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, land"},"layout":{},"paint":{"background-color":"hsl(40, 46%, 86%)"}},{"id":"national-park","type":"fill","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, land"},"source":"composite","source-layer":"landuse_overlay","minzoom":5,"filter":["==",["get","class"],"national_park"],"layout":{},"paint":{"fill-color":"hsl(78, 50%, 73%)","fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,0.5,10,0.5]}},{"id":"landuse","type":"fill","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, land"},"source":"composite","source-layer":"landuse","minzoom":5,"filter":["match",["get","class"],["park","airport","glacier","pitch","sand","facility"],true,"cemetery",true,"school",true,"hospital",true,false],"layout":{},"paint":{"fill-color":["interpolate",["linear"],["zoom"],15,["match",["get","class"],"park","hsl(78, 50%, 73%)","airport","hsl(225, 49%, 88%)","cemetery","hsl(60, 49%, 79%)","glacier","hsl(205, 66%, 90%)","hospital","hsl(3, 47%, 84%)","pitch","hsl(78, 51%, 68%)","sand","hsl(43, 50%, 83%)","school","hsl(40, 47%, 78%)","hsl(40, 49%, 82%)"],16,["match",["get","class"],"park","hsl(78, 50%, 73%)","airport","hsl(225, 63%, 86%)","cemetery","hsl(60, 49%, 79%)","glacier","hsl(205, 66%, 90%)","hospital","hsl(3, 46%, 86%)","pitch","hsl(78, 51%, 68%)","sand","hsl(43, 50%, 83%)","school","hsl(40, 47%, 78%)","hsl(40, 49%, 82%)"]],"fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,["match",["get","class"],"glacier",0.5,1]]}},{"id":"pitch-outline","type":"line","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, land"},"source":"composite","source-layer":"landuse","minzoom":15,"filter":["==",["get","class"],"pitch"],"layout":{},"paint":{"line-color":"hsl(60, 29%, 81%)"}},{"id":"waterway","type":"line","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, water"},"source":"composite","source-layer":"waterway","minzoom":8,"layout":{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":"round"},"paint":{"line-color":"hsl(205, 76%, 70%)","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],0.1,0],20,["match",["get","class"],["canal","river"],8,3]],"line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]}},{"id":"water","type":"fill","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, water"},"source":"composite","source-layer":"water","layout":{},"paint":{"fill-color":"hsl(205, 76%, 70%)"}},{"id":"land-structure-polygon","type":"fill","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, built"},"source":"composite","source-layer":"structure","minzoom":13,"filter":["all",["==",["geometry-type"],"Polygon"],["==",["get","class"],"land"]],"layout":{},"paint":{"fill-color":"hsl(40, 46%, 86%)"}},{"id":"land-structure-line","type":"line","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, built"},"source":"composite","source-layer":"structure","minzoom":13,"filter":["all",["==",["geometry-type"],"LineString"],["==",["get","class"],"land"]],"layout":{"line-cap":"round"},"paint":{"line-width":["interpolate",["exponential",1.99],["zoom"],14,0.75,20,40],"line-color":"hsl(40, 46%, 86%)"}},{"id":"aeroway-polygon","type":"fill","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, built"},"source":"composite","source-layer":"aeroway","minzoom":11,"filter":["all",["==",["geometry-type"],"Polygon"],["match",["get","type"],["runway","taxiway","helipad"],true,false]],"layout":{},"paint":{"fill-color":["interpolate",["linear"],["zoom"],15,"hsl(225, 37%, 79%)",16,"hsl(225, 19%, 81%)"],"fill-opacity":["interpolate",["linear"],["zoom"],11,0,11.5,1]}},{"id":"aeroway-line","type":"line","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, built"},"source":"composite","source-layer":"aeroway","minzoom":9,"filter":["==",["geometry-type"],"LineString"],"layout":{},"paint":{"line-color":["interpolate",["linear"],["zoom"],15,"hsl(225, 37%, 79%)",16,"hsl(225, 19%, 81%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],9,["match",["get","type"],"runway",1,0.5],18,["match",["get","type"],"runway",80,20]]}},{"id":"building-outline","type":"line","metadata":{"mapbox:featureComponent":"buildings","mapbox:group":"Buildings, built"},"source":"composite","source-layer":"building","minzoom":15,"filter":["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],"layout":{},"paint":{"line-color":"hsl(40, 42%, 77%)","line-width":["interpolate",["exponential",1.5],["zoom"],15,0.75,20,3],"line-opacity":["interpolate",["linear"],["zoom"],15,0,16,1]}},{"id":"building","type":"fill","metadata":{"mapbox:featureComponent":"buildings","mapbox:group":"Buildings, built"},"source":"composite","source-layer":"building","minzoom":15,"filter":["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],"layout":{},"paint":{"fill-color":["interpolate",["linear"],["zoom"],15,"hsl(40, 45%, 83%)",16,"hsl(40, 41%, 82%)"],"fill-opacity":["interpolate",["linear"],["zoom"],15,0,16,1],"fill-outline-color":"hsl(40, 42%, 77%)"}},{"id":"tunnel-path","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"path"],["!=",["get","type"],"steps"],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"hsl(40, 42%, 77%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[1,0.5]]]}},{"id":"tunnel-steps","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","type"],"steps"],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"hsl(40, 42%, 77%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]}},{"id":"tunnel-pedestrian","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"hsl(40, 42%, 77%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]}},{"id":"tunnel-simple","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["step",["zoom"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],13,["match",["get","class"],["motorway","trunk","primary"],4,["secondary","tertiary"],2.5,["motorway_link","trunk_link","street","street_limited","primary_link"],1,0.5],18,["match",["get","class"],["motorway","trunk","primary"],32,["secondary","tertiary"],26,["motorway_link","trunk_link","street","street_limited","primary_link"],18,12]],"line-color":"hsl(38, 55%, 93%)"}},{"id":"road-path","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":12,"filter":["all",["==",["get","class"],"path"],["step",["zoom"],["!",["match",["get","type"],["steps","sidewalk","crossing"],true,false]],16,["!=",["get","type"],"steps"]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],13,0.5,14,1,15,1,18,4],"line-color":"hsl(40, 47%, 96%)","line-dasharray":["step",["zoom"],["literal",[4,0.3]],15,["literal",[1.75,0.3]],16,["literal",[1,0.3]],17,["literal",[1,0.25]]]}},{"id":"road-steps","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","type"],"steps"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"hsl(40, 47%, 96%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]}},{"id":"road-pedestrian","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":12,"filter":["all",["==",["get","class"],"pedestrian"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"hsl(40, 47%, 96%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]}},{"id":"road-simple","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":5,"filter":["all",["step",["zoom"],["match",["get","class"],["motorway","trunk"],true,false],6,["match",["get","class"],["motorway","trunk","primary"],true,false],8,["match",["get","class"],["motorway","trunk","primary","secondary"],true,false],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","motorway_link","trunk_link"],true,false],11,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street"],true,false],12,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link"],true,false],13,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],true,false]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],["motorway","trunk","primary"],0.75,["secondary","tertiary"],0.1,0],13,["match",["get","class"],["motorway","trunk","primary"],4,["secondary","tertiary"],2.5,["motorway_link","trunk_link","primary_link","street","street_limited"],1,0.5],18,["match",["get","class"],["motorway","trunk","primary"],32,["secondary","tertiary"],26,["motorway_link","trunk_link","primary_link","street","street_limited"],18,10]],"line-color":["match",["get","class"],["primary_link","secondary_link","tertiary_link","street","street_limited","service","track"],"hsl(38, 55%, 95%)","hsl(38, 55%, 100%)"]}},{"id":"bridge-path","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., barriers-bridges"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"path"],["==",["geometry-type"],"LineString"],["!=",["get","type"],"steps"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"hsl(40, 47%, 96%)","line-dasharray":["step",["zoom"],["literal",[4,0.3]],15,["literal",[1.75,0.3]],16,["literal",[1,0.3]],17,["literal",[1,0.25]]]}},{"id":"bridge-steps","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., barriers-bridges"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","type"],"steps"],["==",["get","structure"],"bridge"],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"hsl(40, 47%, 96%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]}},{"id":"bridge-pedestrian","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., barriers-bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"hsl(40, 47%, 96%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]}},{"id":"bridge-case-simple","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],13,["match",["get","class"],["motorway","trunk","primary"],6,["secondary","tertiary"],4,["motorway_link","trunk_link","street","street_limited","primary_link"],2.5,1.25],18,["match",["get","class"],["motorway","trunk","primary"],36,["secondary","tertiary"],30,["motorway_link","trunk_link","street","street_limited","primary_link"],22,16]],"line-color":"hsl(40, 46%, 86%)"}},{"id":"bridge-simple","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["motorway","trunk"],true,false],13,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],13,["match",["get","class"],["motorway","trunk","primary"],4,["secondary","tertiary"],2.5,["motorway_link","trunk_link","street","street_limited","primary_link"],1,0.5],18,["match",["get","class"],["motorway","trunk","primary"],32,["secondary","tertiary"],26,["motorway_link","trunk_link","street","street_limited","primary_link"],18,12]],"line-color":["match",["get","class"],["primary_link","secondary_link","tertiary_link","street","street_limited","service","track"],"hsl(38, 55%, 95%)","hsl(38, 55%, 100%)"]}},{"id":"admin-1-boundary-bg","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":7,"filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"bevel"},"paint":{"line-color":["interpolate",["linear"],["zoom"],8,"hsl(40, 46%, 86%)",16,"hsl(0, 0%, 87%)"],"line-width":["interpolate",["linear"],["zoom"],7,3.75,12,5.5],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,0.75],"line-dasharray":[1,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,8,3]}},{"id":"admin-0-boundary-bg","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{},"paint":{"line-width":["interpolate",["linear"],["zoom"],3,3.5,10,8],"line-color":["interpolate",["linear"],["zoom"],6,"hsl(40, 46%, 86%)",8,"hsl(0, 0%, 87%)"],"line-opacity":["interpolate",["linear"],["zoom"],3,0,4,0.5],"line-blur":["interpolate",["linear"],["zoom"],3,0,10,2]}},{"id":"admin-1-boundary","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":2,"filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]],"line-width":["interpolate",["linear"],["zoom"],7,0.75,12,1.5],"line-opacity":["interpolate",["linear"],["zoom"],2,0,3,1],"line-color":["interpolate",["linear"],["zoom"],3,"hsl(0, 0%, 77%)",7,"hsl(0, 0%, 62%)"]}},{"id":"admin-0-boundary","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-color":"hsl(0, 0%, 51%)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":[10,0]}},{"id":"admin-0-boundary-disputed","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","disputed"],"true"],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 51%)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":["step",["zoom"],["literal",[3.25,3.25]],6,["literal",[2.5,2.5]],7,["literal",[2,2.25]],8,["literal",[1.75,2]]]}},{"id":"road-label-simple","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},"source":"composite","source-layer":"road","minzoom":12,"filter":["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street","street_limited"],true,false],"layout":{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],10,9],18,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],16,14]],"text-max-angle":30,"text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":0.01},"paint":{"text-color":"hsl(40, 47%, 41%)","text-halo-color":"hsl(38, 55%, 100%)","text-halo-width":1}},{"id":"path-pedestrian-label","type":"symbol","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., walking-cycling-labels"},"source":"composite","source-layer":"road","minzoom":12,"filter":["step",["zoom"],["match",["get","class"],["pedestrian"],true,false],15,["match",["get","class"],["path","pedestrian"],true,false]],"layout":{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],"pedestrian",9,6.5],18,["match",["get","class"],"pedestrian",14,13]],"text-max-angle":30,"text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":0.01},"paint":{"text-color":"hsl(40, 47%, 41%)","text-halo-color":"hsl(40, 46%, 95%)","text-halo-width":1,"text-halo-blur":1}},{"id":"waterway-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","minzoom":13,"filter":["all",["match",["get","class"],["canal","river","stream"],["match",["get","worldview"],["all","US"],true,false],["disputed_canal","disputed_river","disputed_stream"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["==",["geometry-type"],"LineString"]],"layout":{"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-size":["interpolate",["linear"],["zoom"],13,12,18,16],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"text-color":"hsl(205, 44%, 90%)"}},{"id":"natural-line-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["match",["get","class"],["glacier","landform"],["match",["get","worldview"],["all","US"],true,false],["disputed_glacier","disputed_landform"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["==",["geometry-type"],"LineString"],["<=",["get","filterrank"],2]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport"},"paint":{"text-halo-width":0.5,"text-halo-color":"hsl(40, 53%, 100%)","text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(26, 15%, 48%)",5,"hsl(26, 20%, 38%)"],17,["step",["get","sizerank"],"hsl(26, 15%, 48%)",13,"hsl(26, 20%, 38%)"]]}},{"id":"natural-point-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland"],["match",["get","worldview"],["all","US"],true,false],["disputed_dock","disputed_glacier","disputed_landform","disputed_water_feature","disputed_wetland"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["==",["geometry-type"],"Point"],["<=",["get","filterrank"],2]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"hsl(40, 53%, 100%)","text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(26, 15%, 48%)",5,"hsl(26, 20%, 38%)"],17,["step",["get","sizerank"],"hsl(26, 15%, 48%)",13,"hsl(26, 20%, 38%)"]]}},{"id":"water-line-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","filter":["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],["match",["get","worldview"],["all","US"],true,false],["disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["==",["geometry-type"],"LineString"]],"layout":{"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],20,6,18,12,12],10,["step",["get","sizerank"],15,9,12],18,["step",["get","sizerank"],15,9,14]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",0.25,["sea","bay"],0.15,0],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(205, 72%, 90%)","hsl(205, 44%, 90%)"]}},{"id":"water-point-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","filter":["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],["match",["get","worldview"],["all","US"],true,false],["disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["==",["geometry-type"],"Point"]],"layout":{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],20,6,15,12,12],10,["step",["get","sizerank"],15,9,12]],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",0.25,["bay","sea"],0.15,0.01],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10]},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(205, 72%, 90%)","hsl(205, 44%, 90%)"]}},{"id":"poi-label","type":"symbol","metadata":{"mapbox:featureComponent":"point-of-interest-labels","mapbox:group":"Point of interest labels, poi-labels"},"source":"composite","source-layer":"poi_label","minzoom":6,"filter":["<=",["get","filterrank"],["+",["step",["zoom"],0,16,1,17,2],2]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["case",["has","maki_beta"],["image",["concat",["get","maki_beta"],"-11"]],["image",["concat",["get","maki"],"-11"]]],15,["case",["has","maki_beta"],["image",["concat",["get","maki_beta"],"-15"]],["image",["concat",["get","maki"],"-15"]]]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":["match",["get","class"],"park_like","hsl(78, 55%, 100%)","education","hsl(40, 52%, 100%)","medical","hsl(3, 51%, 100%)","hsl(40, 53%, 100%)"],"text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(22, 44%, 61%)","park_like","hsl(76, 51%, 26%)","education","hsl(40, 18%, 45%)","medical","hsl(3, 18%, 55%)","hsl(26, 15%, 48%)"],5,["match",["get","class"],"food_and_drink","hsl(22, 68%, 44%)","park_like","hsl(76, 50%, 15%)","education","hsl(40, 45%, 25%)","medical","hsl(3, 24%, 45%)","hsl(26, 20%, 38%)"]],17,["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(22, 44%, 61%)","park_like","hsl(76, 51%, 26%)","education","hsl(40, 18%, 45%)","medical","hsl(3, 18%, 55%)","hsl(26, 15%, 48%)"],13,["match",["get","class"],"food_and_drink","hsl(22, 68%, 44%)","park_like","hsl(76, 50%, 15%)","education","hsl(40, 45%, 25%)","medical","hsl(3, 24%, 45%)","hsl(26, 20%, 38%)"]]]}},{"id":"airport-label","type":"symbol","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, transit-labels"},"source":"composite","source-layer":"airport_label","minzoom":8,"filter":["match",["get","class"],["military","civil"],["match",["get","worldview"],["all","US"],true,false],["disputed_military","disputed_civil"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],"layout":{"text-line-height":1.1,"text-size":["step",["get","sizerank"],18,9,12],"icon-image":["step",["get","sizerank"],["concat",["get","maki"],"-15"],9,["concat",["get","maki"],"-11"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":[0,0.75],"text-rotation-alignment":"viewport","text-anchor":"top","text-field":["step",["get","sizerank"],["coalesce",["get","name_en"],["get","name"]],15,["get","ref"]],"text-letter-spacing":0.01,"text-max-width":9},"paint":{"text-color":"hsl(225, 4%, 40%)","text-halo-color":"hsl(225, 68%, 100%)","text-halo-width":1}},{"id":"settlement-subdivision-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","minzoom":10,"maxzoom":15,"filter":["all",["match",["get","class"],"settlement_subdivision",["match",["get","worldview"],["all","US"],true,false],"disputed_settlement_subdivision",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["<=",["get","filterrank"],3]],"layout":{"text-field":["coalesce",["get","name_en"],["get","name"]],"text-transform":"uppercase","text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"text-letter-spacing":["match",["get","type"],"suburb",0.15,0.1],"text-max-width":7,"text-padding":3,"text-size":["interpolate",["cubic-bezier",0.5,0,1,1],["zoom"],11,["match",["get","type"],"suburb",11,10.5],15,["match",["get","type"],"suburb",15,14]]},"paint":{"text-halo-color":"hsla(40, 53%, 100%, 0.75)","text-halo-width":1,"text-color":"hsl(0, 0%, 27%)","text-halo-blur":0.5}},{"id":"settlement-minor-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","maxzoom":15,"filter":["all",["<=",["get","filterrank"],3],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],true,false],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["step",["zoom"],true,8,[">=",["get","symbolrank"],11],10,[">=",["get","symbolrank"],12],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]],"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],3,["step",["get","symbolrank"],12,9,11,10,10.5,12,9.5,14,8.5,16,6.5,17,4],13,["step",["get","symbolrank"],23,9,21,10,19,11,17,12,16,13,15,15,13]],"icon-image":"","text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["literal",[0,0]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},"paint":{"text-color":"hsl(0, 0%, 0%)","text-halo-color":"hsl(40, 53%, 100%)","text-halo-width":1,"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":1}},{"id":"settlement-major-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","maxzoom":15,"filter":["all",["<=",["get","filterrank"],3],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],true,false],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],["step",["zoom"],false,8,["<",["get","symbolrank"],11],10,["<",["get","symbolrank"],12],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]],"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],8,["step",["get","symbolrank"],18,9,17,10,15],15,["step",["get","symbolrank"],23,9,22,10,20,11,18,12,16,13,15,15,13]],"icon-image":"","text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["literal",[0,0]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},"paint":{"text-color":"hsl(0, 0%, 0%)","text-halo-color":"hsl(40, 53%, 100%)","text-halo-width":1,"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":1}},{"id":"state-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","minzoom":3,"maxzoom":9,"filter":["match",["get","class"],"state",["match",["get","worldview"],["all","US"],true,false],"disputed_state",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],"layout":{"text-size":["interpolate",["cubic-bezier",0.85,0.7,0.65,1],["zoom"],4,["step",["get","symbolrank"],10,6,9.5,7,9],9,["step",["get","symbolrank"],21,6,16,7,13]],"text-transform":"uppercase","text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-field":["step",["zoom"],["step",["get","symbolrank"],["coalesce",["get","name_en"],["get","name"]],5,["coalesce",["get","abbr"],["get","name_en"],["get","name"]]],5,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":0.15,"text-max-width":6},"paint":{"text-color":"hsl(0, 0%, 0%)","text-halo-color":"hsl(40, 53%, 100%)","text-halo-width":1}},{"id":"country-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","minzoom":1,"maxzoom":10,"filter":["match",["get","class"],"country",["match",["get","worldview"],["all","US"],true,false],"disputed_country",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],true,false]],false],"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.7,1],["zoom"],1,["step",["get","symbolrank"],11,4,9,5,8],9,["step",["get","symbolrank"],22,4,19,5,17]],"icon-image":"","text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["literal",[0,0]],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":6},"paint":{"icon-opacity":["step",["zoom"],["case",["has","text_anchor"],1,0],7,0],"text-color":"hsl(0, 0%, 0%)","text-halo-color":["interpolate",["linear"],["zoom"],2,"hsla(40, 53%, 100%, 0.75)",3,"hsl(40, 53%, 100%)"],"text-halo-width":1.25}}],"created":"2021-03-29T17:24:02.794Z","modified":"2021-03-29T17:24:12.872Z","id":"ckmuv21s85dd317s3sii3rhg7","owner":"northarrowresearch","visibility":"private","draft":false}')},474:function(e){e.exports=JSON.parse('{"version":8,"name":"Grayscale Hillshade","metadata":{"mapbox:type":"default","mapbox:origin":"outdoors-v11","mapbox:autocomposite":true,"mapbox:groups":{"1444855786460.0557":{"name":"Roads","collapsed":true},"1444934295202.7542":{"name":"Admin boundaries","collapsed":false},"1444855799204.86":{"name":"Bridges","collapsed":true},"1444855769305.6016":{"name":"Tunnels","collapsed":true}},"mapbox:sdk-support":{"js":"0.54.0","android":"6.7.0","ios":"4.7.0"},"mapbox:uiParadigm":"layers"},"center":[-112.12098454772115,36.094321418957094],"zoom":11.946429691380777,"bearing":0,"pitch":0,"sources":{"composite":{"url":"mapbox://mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2","type":"vector"}},"sprite":"mapbox://sprites/northarrowresearch/ckmuw9x2e5f0417pe3vy7y0cz/55jsegcrpjhdm8ibxtin56tly","glyphs":"mapbox://fonts/northarrowresearch/{fontstack}/{range}.pbf","layers":[{"id":"land","type":"background","layout":{},"paint":{"background-color":["interpolate",["linear"],["zoom"],11,"hsl(35, 0%, 91%)",13,"hsl(35, 0%, 89%)"]}},{"id":"landcover","type":"fill","source":"composite","source-layer":"landcover","maxzoom":12,"layout":{},"paint":{"fill-color":["match",["get","class"],"snow","hsl(0, 0%, 100%)","hsl(75, 0%, 55%)"],"fill-opacity":["interpolate",["exponential",1.5],["zoom"],2,0.3,12,0],"fill-antialias":false}},{"id":"pitch-outline","type":"line","source":"composite","source-layer":"landuse","minzoom":15,"filter":["==",["get","class"],"pitch"],"layout":{},"paint":{"line-color":"hsl(75, 0%, 84%)"}},{"id":"waterway-shadow","type":"line","source":"composite","source-layer":"waterway","minzoom":8,"layout":{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":"round"},"paint":{"line-color":"hsl(215, 0%, 69%)","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],0.1,0],20,["match",["get","class"],["canal","river"],8,3]],"line-translate":["interpolate",["exponential",1.2],["zoom"],7,["literal",[0,0]],16,["literal",[-1,-1]]],"line-translate-anchor":"viewport","line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]}},{"id":"water-shadow","type":"fill","source":"composite","source-layer":"water","layout":{},"paint":{"fill-color":"hsl(215, 0%, 69%)","fill-translate":["interpolate",["exponential",1.2],["zoom"],7,["literal",[0,0]],16,["literal",[-1,-1]]],"fill-translate-anchor":"viewport"}},{"id":"waterway","type":"line","source":"composite","source-layer":"waterway","minzoom":8,"layout":{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":"round"},"paint":{"line-color":"hsl(205, 0%, 76%)","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],0.1,0],20,["match",["get","class"],["canal","river"],8,3]],"line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]}},{"id":"water","type":"fill","source":"composite","source-layer":"water","layout":{},"paint":{"fill-color":"hsl(196, 0%, 58%)"}},{"id":"wetland","type":"fill","source":"composite","source-layer":"landuse_overlay","minzoom":5,"filter":["match",["get","class"],["wetland","wetland_noveg"],true,false],"paint":{"fill-color":"hsl(185, 0%, 74%)","fill-opacity":["interpolate",["linear"],["zoom"],10,0.25,10.5,0.15]}},{"id":"hillshade","type":"fill","source":"composite","source-layer":"hillshade","maxzoom":16,"layout":{},"paint":{"fill-color":["match",["get","class"],"shadow","hsl(0, 0%, 0%)","hsl(0, 0%, 100%)"],"fill-opacity":["interpolate",["linear"],["zoom"],14,["interpolate",["linear"],["get","level"],56,0.27,94,0.1],16,0],"fill-antialias":false}},{"id":"contour-line","type":"line","source":"composite","source-layer":"contour","minzoom":11,"filter":["!=",["get","index"],-1],"layout":{},"paint":{"line-opacity":["interpolate",["linear"],["zoom"],11,["match",["get","index"],[1,2],0.15,0.25],12,["match",["get","index"],[1,2],0.3,0.5]],"line-color":["case",["==",["get","ele"],0],"hsl(100, 0%, 20%)","hsl(100, 0%, 70%)"],"line-width":["interpolate",["linear"],["zoom"],13,["match",["get","index"],[1,2],0.5,0.6],16,["match",["get","index"],[1,2],0.8,1.2]],"line-offset":["interpolate",["linear"],["zoom"],13,["match",["get","index"],[1,2],1,0.6],16,["match",["get","index"],[1,2],1.6,1.2]]}}],"created":"2021-03-29T17:58:09.569Z","modified":"2021-03-29T17:58:21.965Z","id":"ckmuw9x2e5f0417pe3vy7y0cz","owner":"northarrowresearch","visibility":"private","draft":false}')},517:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=r(a(170)),l=r(a(33)),i=a(28).makeStyles((function(e){return{root:{display:"flex",zIndex:e.zIndex.drawer+1},text:{flexGrow:1},logo:{}}}));t.default=function(e){var t=e.version,a=i();return n.default.createElement(o.default,{className:a.root,maxWidth:"md"},t&&n.default.createElement(l.default,{component:"div",className:a.text,color:"textSecondary",variant:"overline"},"v.",t),n.default.createElement("img",{className:a.logo,alt:"footer",src:"/webrave-staging/cc-watermarks-riverscapes_orig.png"}))}},522:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isDisabled=void 0;var i=o(a(0)),s=l(a(124)),c=l(a(171)),u=l(a(136)),d=l(a(110)),p=l(a(172)),m=l(a(278)),g=l(a(524)),f=l(a(525)),y=l(a(57)),h=l(a(526)),b=a(23),x=a(28),w=a(105),v=l(a(579)),k=l(a(299)),j=a(176),_=x.makeStyles(v.default);function S(e){return(!e.meta||!e.meta.access||"PUBLIC"!==e.meta.access)&&null===e.role}t.isDisabled=S;t.default=function(e){var t=e.title,a=e.program,r=e.programs,n=e.signOutHandler,o=e.toolbarItems,l=e.shareUrl,x=e.history,v=_(),z=i.useState(!1),O=z[0],P=z[1],E=i.useState(null),T=E[0],C=E[1],L=function(){return C(null)},I=x&&x.location.pathname.indexOf("/admin")>-1,N=(n||r)&&i.default.createElement(p.default,{anchorEl:T,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!T,onClose:L},r&&i.default.createElement(d.default,null,i.default.createElement(w.Typography,{variant:"overline",onClick:function(){return x.push("/")}},"Programs")),r&&i.default.createElement(u.default,null),r&&r.length>0&&r.map((function(e,t){return i.default.createElement(d.default,{disabled:a&&a.machineName===e.machineName||S(e),key:"prog-"+t,onClick:function(){return t=e,L(),void(x&&x.push("/"+t.machineName));var t},value:e.machineName},e.name)})),n&&i.default.createElement(u.default,null),n&&i.default.createElement(d.default,{onClick:n},"Log Out")),R=a&&(a.role===b.WarehouseRoleEnum.Admin||a.role===b.WarehouseRoleEnum.SuperUser);return i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{position:"static",className:v.appBar},i.default.createElement(s.default,{className:v.root,disableGutters:!0},i.default.createElement("a",{href:"http://riverscapes.xyz/"},i.default.createElement("img",{className:v.logo,src:"https://riverscapes.xyz/assets/images/RiverscapesLogo.png",alt:"logo"})),a?i.default.createElement("div",null,i.default.createElement(w.Typography,{variant:"subtitle1"},a.name),i.default.createElement(w.Typography,{variant:"caption"},t)):i.default.createElement(w.Typography,{variant:"subtitle1"},t),i.default.createElement("div",{className:v.spacer}),j.version&&i.default.createElement(w.Typography,{component:"div",className:v.text,color:"inherit",variant:"overline"},"v.",j.version),R&&i.default.createElement(y.default,{"aria-haspopup":"true",onClick:function(){x&&(I?x.push("/"+a.machineName):x.push("/"+a.machineName+"/admin"))},color:"inherit"},I?i.default.createElement(f.default,null):i.default.createElement(g.default,null)),o,l&&i.default.createElement(y.default,{"aria-haspopup":"true",onClick:function(){return P(!0)},color:"inherit"},i.default.createElement(m.default,null)),(n||r)&&i.default.createElement(y.default,{"aria-haspopup":"true",onClick:function(e){return C(e.currentTarget)},color:"inherit"},i.default.createElement(h.default,null)))),N,i.default.createElement(k.default,{open:O,shareUrl:l,handleClose:function(){return P(!1)}}))}},527:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(n,o){function l(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var a,r,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(n=(n=l.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){l.label=o[1];break}if(6===o[0]&&l.label<n[1]){l.label=n[1],n=o;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(o);break}n[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(i){o=[6,i],r=0}finally{a=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},l=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.verifyMeta=t.augmentXML=t.parseProjectXML=t.parseProgramXML=t.parseXMLMeta=t.getXML=void 0;var s=a(528),c=i(a(220)),u=a(23),d=i(a(571));function p(e){try{return e.reduce((function(e,t){var a,n=t.$,o=t._;return r(r({},e),((a={})[n.name]=o&&o.trim(),a))}),{})}catch(t){return{}}}t.getXML=function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(a){switch(a.label){case 0:return[4,c.default({url:e,method:"get"})];case 1:if(!(t=a.sent()).data)throw new Error("Error retrieving XML file");return[2,t.data]}}))}))},t.parseXMLMeta=p,t.parseProgramXML=function(e){return n(this,void 0,void 0,(function(){var t,a,n,i,c,m,g,f,y,h;return o(this,(function(o){switch(o.label){case 0:return[4,s.parseStringPromise(e).catch((function(e){throw new u.ValidationError("Error parsing XML file. This likely means a broken or unclosed tag.",[e.message])}))];case 1:return t=o.sent(),a=p(t.Program.MetaData[0].Meta),n=a.projectFile,i=a.projectXSDs,c=l(a,["projectFile","projectXSDs"]),m=t.Program.Definitions[0].Collections[0].Collection.map((function(e){var t=e.$,a=e.Allow,n=e.AllowRegex;return r(r({},t),{Allow:a?Array.isArray(a)?a.map((function(e){return e.$})):[a]:void 0,AllowRegex:n?Array.isArray(n)?n.map((function(e){return e.$.pattern})):[n.pattern]:void 0})})),g=[],t.Program.Definitions[0].Groups[0].Group&&(g=Array.isArray(t.Program.Definitions[0].Groups[0].Group)?t.Program.Definitions[0].Groups[0].Group.map((function(e){return e.$})):[t.Program.Definitions[0].Groups[0].Group]),f=[],t.Program.Definitions[0].Products[0].Product&&(f=Array.isArray(t.Program.Definitions[0].Products[0].Product)?t.Program.Definitions[0].Products[0].Product.map((function(e){return e.$})):[t.Program.Definitions[0].Products[0].Product]),y=(new d.default.DOMParser).parseFromString(e),h=function(e,t,a,n){var o=e.getElementsByTagName("Hierarchy")[0],l=Array.from(o.getElementsByTagName("Product")),i=[];return l.forEach((function(e){var o=[],l=e.getAttribute("ref"),s=t.find((function(e){return e.id===l}));if(!s)throw new Error("Product not found for ref='"+l+"'");for(var c=e.parentNode,u=function(){var e=c.getAttribute("ref"),t=c.tagName,r="Group"===t?a.find((function(t){return t.id===e})):n.find((function(t){return t.id===e})),l=r.folder,i=r.name;o.push({type:t,id:e,folder:l,name:i}),c=c.parentNode};c&&c.parentNode&&"Hierarchy"!==c.tagName;)u();i.push(r(r({},s),{pathArr:o.reverse()}))})),i}(y,f,g,m),[2,Promise.resolve(new u.Program({name:t.Program.Name[0],machineName:t.Program.MachineName[0],projectXSDs:i,projectFile:n,meta:c,products:h,collections:m,groups:g}))]}}))}))},t.parseProjectXML=function(e){return n(this,void 0,void 0,(function(){var t,a,r,n;return o(this,(function(o){switch(o.label){case 0:return[4,s.parseStringPromise(e).catch((function(e){throw new u.ValidationError("Error parsing XML file. This likely means a broken or unclosed tag.",[e.message])}))];case 1:return t=o.sent(),a=t.Project,r={},a.Warehouse&&(r=p(a.Warehouse[0].Meta)),n={},a.MetaData&&(n=p(a.MetaData[0].Meta)),[2,Promise.resolve({id:r.id,name:a.Name[0],projType:a.ProjectType[0],Warehouse:r,program:r.program,meta:n,tags:u.Project.parseTagString(r.tags),xml:e,parsedProjectJSON:t,rawXML:e})]}}))}))},t.augmentXML=function(e,t){var a=(new d.default.DOMParser).parseFromString(t),r=a.getElementsByTagName("MetaData")[0];a.getElementsByTagName("Warehouse").length>0&&a.removeChild(a.getElementsByTagName("Warehouse")[0]);var n=a.createElement("Warehouse");return Object.keys(e).forEach((function(t){var r=a.createElement("Meta");r.setAttribute("name",t),r.appendChild(a.createTextNode(e[t])),n.appendChild(r)})),a.insertBefore(n,r),(new d.default.XMLSerializer).serializeToString(a)},t.verifyMeta=function(e,t,a){var r=a.products.find((function(t){return t.id===e}));if(!r)throw new Error("No project type '"+e+"' found in program '"+a.name+"'");return r.pathArr.filter((function(e){return"Collection"===e.type})).map((function(e){return{name:e.name,value:t[e.name]}}))}},542:function(e,t){},544:function(e,t){},573:function(e,t,a){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(n,o){function l(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var a,r,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(n=(n=l.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){l.label=o[1];break}if(6===o[0]&&l.label<n[1]){l.label=n[1],n=o;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(o);break}n[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(i){o=[6,i],r=0}finally{a=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.adminGetUsers=t.adminUpdateUserPermissions=t.search=t.deleteProject=t.downloadZipFile=t.downloadFile=t.getUploadUrls=t.getProject=t.getProgram=t.getPrograms=t.validateProjectXML=t.authCheck=t.apiCall=void 0;var s,c,u,d,p,m,g,f,y,h,b,x,w=i(a(220)),v=a(702),k=i(a(408)),j=i(a(20)),_=a(23);t.apiCall=function(e,t,a,r){return w.default({url:e,method:"post",headers:t?{Authorization:"Bearer "+t}:null,data:{query:v.print(a),variables:r}}).then((function(e){return e.data})).catch((function(n){throw n.response&&404===n.response.status?new Error("API Url not found: "+e):n.code&&"ECONNREFUSED"===n.code?new Error("Connection refused. Could not contact: '"+e+"'"):(j.default.error("apiCall Error",{url:e,jwt:t,query:v.print(a),variables:r,err:n}),n)}))},t.authCheck=function(e,a){return t.apiCall(e,a,k.default(s||(s=r(["\n            query AuthCall {\n                auth {\n                    loggedIn\n                    userPool\n                    clientId\n                    region\n                    domain\n                }\n            }\n        "],["\n            query AuthCall {\n                auth {\n                    loggedIn\n                    userPool\n                    clientId\n                    region\n                    domain\n                }\n            }\n        "]))),{})},t.validateProjectXML=function(e,a,n,o,l){return t.apiCall(e,a,k.default(c||(c=r(["\n            query validateProject($xml: String!, $projType: String!, $program: String!) {\n                validate(xml: $xml, projType: $projType, program: $program) {\n                    result\n                    xmlErrors\n                }\n            }\n        "],["\n            query validateProject($xml: String!, $projType: String!, $program: String!) {\n                validate(xml: $xml, projType: $projType, program: $program) {\n                    result\n                    xmlErrors\n                }\n            }\n        "]))),{xml:n,program:l,projType:o})},t.getPrograms=function(e,a){return o(this,void 0,void 0,(function(){return l(this,(function(o){return[2,t.apiCall(e,a,k.default(u||(u=r(["\n            query programs {\n                programs {\n                    name\n                    machineName\n                    projectXSDs\n                    projectFile\n                    role\n                    groups {\n                        id\n                        name\n                        folder\n                    }\n                    collections {\n                        id\n                        name\n                        AllowRegex\n                        Allow {\n                            id\n                            name\n                            aliases\n                            folder\n                        }\n                    }\n                    products {\n                        id\n                        name\n                        folder\n                        pathArr\n                    }\n                    hierarchy\n                    meta\n                }\n            }\n        "],["\n            query programs {\n                programs {\n                    name\n                    machineName\n                    projectXSDs\n                    projectFile\n                    role\n                    groups {\n                        id\n                        name\n                        folder\n                    }\n                    collections {\n                        id\n                        name\n                        AllowRegex\n                        Allow {\n                            id\n                            name\n                            aliases\n                            folder\n                        }\n                    }\n                    products {\n                        id\n                        name\n                        folder\n                        pathArr\n                    }\n                    hierarchy\n                    meta\n                }\n            }\n        "])))).then((function(e){return n(n({},e),{data:{programs:e.data.programs.map(_.Program.fromGraphQL)}})}))]}))}))},t.getProgram=function(e,a,n){return o(this,void 0,void 0,(function(){var o,i,s;return l(this,(function(l){switch(l.label){case 0:return[4,t.apiCall(e,a,k.default(d||(d=r(["\n            query program($program: String!) {\n                program(program: $program) {\n                    name\n                    machineName\n                    projectXSDs\n                    projectFile\n                    role\n                    groups {\n                        id\n                        name\n                        folder\n                    }\n                    collections {\n                        id\n                        name\n                        AllowRegex\n                        Allow {\n                            id\n                            name\n                            aliases\n                            folder\n                        }\n                    }\n                    products {\n                        id\n                        name\n                        folder\n                        pathArr\n                    }\n                    hierarchy\n                    meta\n                }\n            }\n        "],["\n            query program($program: String!) {\n                program(program: $program) {\n                    name\n                    machineName\n                    projectXSDs\n                    projectFile\n                    role\n                    groups {\n                        id\n                        name\n                        folder\n                    }\n                    collections {\n                        id\n                        name\n                        AllowRegex\n                        Allow {\n                            id\n                            name\n                            aliases\n                            folder\n                        }\n                    }\n                    products {\n                        id\n                        name\n                        folder\n                        pathArr\n                    }\n                    hierarchy\n                    meta\n                }\n            }\n        "]))),{program:n})];case 1:return o=l.sent(),i=o.data.program,s=o.errors,[2,{data:{program:_.Program.fromGraphQL(i)},errors:s}]}}))}))},t.getProject=function(e,a,i,s,c,u){return void 0===c&&(c=!1),void 0===u&&(u=!1),o(this,void 0,void 0,(function(){return l(this,(function(o){return[2,t.apiCall(e,a,k.default(p||(p=r(["\n            query getProject($id: ID!, $program: String!) {\n                project(id: $id, program: $program) {\n                    id\n                    name\n                    projType\n                    totalSize\n                    program\n                    tags\n                    createdBy\n                    updatedBy\n                    createdOn\n                    updatedOn\n                    meta\n                    ","\n                    ","\n                }\n            }\n        "],["\n            query getProject($id: ID!, $program: String!) {\n                project(id: $id, program: $program) {\n                    id\n                    name\n                    projType\n                    totalSize\n                    program\n                    tags\n                    createdBy\n                    updatedBy\n                    createdOn\n                    updatedOn\n                    meta\n                    ","\n                    ","\n                }\n            }\n        "])),c?"\n                    files {\n                        key\n                        md5\n                        size\n                        downloadUrl\n                    }":"",u?"\n                        tree {\n                            name\n                            description\n                            projectType\n                            metaStr\n                            leaves {\n                                pid\n                                label\n                                layerId\n                                blLayerId\n                                layerType\n                                url\n                                layerName\n                                nodeExists\n                                metaStr\n                            }\n                            branches {\n                                label\n                                collapsed\n                                bid\n                                pid\n                            }\n                            defaultView\n                            views  {\n                                id\n                                name\n                                description\n                                layers{\n                                id\n                                visible\n                                }\n                            }\n                        }\n                    ":""),{id:i,program:s}).then((function(e){return n(n({},e),{data:{project:_.Project.fromGraphQL(e.data.project)}})}))]}))}))},t.getUploadUrls=function(e,a,n,i,s,c){return o(this,void 0,void 0,(function(){return l(this,(function(o){switch(o.label){case 0:return[4,t.apiCall(e,a,k.default(m||(m=r(["\n            query requestUploadProject($id: ID, $files: [String!], $program: String!, $projectType: String!) {\n                requestUpload(id: $id, files: $files, program: $program, projectType: $projectType) {\n                    id\n                    uploadUrls {\n                        url\n                        fields\n                        origPath\n                    }\n                }\n            }\n        "],["\n            query requestUploadProject($id: ID, $files: [String!], $program: String!, $projectType: String!) {\n                requestUpload(id: $id, files: $files, program: $program, projectType: $projectType) {\n                    id\n                    uploadUrls {\n                        url\n                        fields\n                        origPath\n                    }\n                }\n            }\n        "]))),{id:n,files:i,projectType:s,program:c})];case 1:return[2,o.sent()]}}))}))},t.downloadFile=function(e,a,n,i,s,c){return o(this,void 0,void 0,(function(){return l(this,(function(o){switch(o.label){case 0:return[4,t.apiCall(e,a,k.default(g||(g=r(["\n            query downloadFileQuery($program: String!, $id: ID!, $projType: String!, $filePath: String!) {\n                downloadFile(program: $program, id: $id, projType: $projType, filePath: $filePath) {\n                    key\n                    md5\n                    contentType\n                    size\n                    downloadUrl\n                }\n            }\n        "],["\n            query downloadFileQuery($program: String!, $id: ID!, $projType: String!, $filePath: String!) {\n                downloadFile(program: $program, id: $id, projType: $projType, filePath: $filePath) {\n                    key\n                    md5\n                    contentType\n                    size\n                    downloadUrl\n                }\n            }\n        "]))),{projType:n,program:i,id:s,filePath:c})];case 1:return[2,o.sent()]}}))}))},t.downloadZipFile=function(e,a,n,i,s){return o(this,void 0,void 0,(function(){return l(this,(function(o){switch(o.label){case 0:return[4,t.apiCall(e,a,k.default(f||(f=r(["\n            query downloadZipFileQuery($program: String!, $id: ID!, $projType: String!) {\n                downloadZip(program: $program, id: $id, projType: $projType) {\n                    key\n                    md5\n                    contentType\n                    size\n                    downloadUrl\n                    pendingSince\n                }\n            }\n        "],["\n            query downloadZipFileQuery($program: String!, $id: ID!, $projType: String!) {\n                downloadZip(program: $program, id: $id, projType: $projType) {\n                    key\n                    md5\n                    contentType\n                    size\n                    downloadUrl\n                    pendingSince\n                }\n            }\n        "]))),{projType:n,program:i,id:s})];case 1:return[2,o.sent()]}}))}))},t.deleteProject=function(e,a,n,i){return o(this,void 0,void 0,(function(){return l(this,(function(o){switch(o.label){case 0:return[4,t.apiCall(e,a,k.default(y||(y=r(["\n            mutation deleteProject($id: ID!, $program: String!) {\n                deleteProject(id: $id, program: $program)\n            }\n        "],["\n            mutation deleteProject($id: ID!, $program: String!) {\n                deleteProject(id: $id, program: $program)\n            }\n        "]))),{program:i,id:n})];case 1:return[2,o.sent()]}}))}))},t.search=function(e,a,i,s){return o(this,void 0,void 0,(function(){var o,c,u,d,p;return l(this,(function(l){switch(l.label){case 0:return[4,t.apiCall(e,a,k.default(h||(h=r(["\n            query searchQuery(\n                $program: String!\n                $projType: String\n                $nameStr: String\n                $metaStr: String\n                $metaArr: String\n                $tags: String\n                $noTags: Boolean\n                $limit: Int\n                $nextToken: Int\n            ) {\n                search(\n                    program: $program\n                    projType: $projType\n                    nameStr: $nameStr\n                    metaStr: $metaStr\n                    metaArr: $metaArr\n                    tags: $tags\n                    noTags: $noTags\n                    limit: $limit\n                    nextToken: $nextToken\n                ) {\n                    projects {\n                        id\n                        name\n                        projType\n                        program\n                        tags\n                        totalSize\n                        createdBy\n                        updatedBy\n                        createdOn\n                        updatedOn\n                        meta\n                        score\n                    }\n                    nextToken\n                    total\n                }\n            }\n        "],["\n            query searchQuery(\n                $program: String!\n                $projType: String\n                $nameStr: String\n                $metaStr: String\n                $metaArr: String\n                $tags: String\n                $noTags: Boolean\n                $limit: Int\n                $nextToken: Int\n            ) {\n                search(\n                    program: $program\n                    projType: $projType\n                    nameStr: $nameStr\n                    metaStr: $metaStr\n                    metaArr: $metaArr\n                    tags: $tags\n                    noTags: $noTags\n                    limit: $limit\n                    nextToken: $nextToken\n                ) {\n                    projects {\n                        id\n                        name\n                        projType\n                        program\n                        tags\n                        totalSize\n                        createdBy\n                        updatedBy\n                        createdOn\n                        updatedOn\n                        meta\n                        score\n                    }\n                    nextToken\n                    total\n                }\n            }\n        "]))),n(n({},s),{program:i}))];case 1:return(o=l.sent()).data?(c=o.data.search||{},u=c.nextToken,d=c.projects,p=c.total,[2,{errors:o.errors,data:{search:{projects:Array.isArray(d)?d.map(_.Project.fromGraphQL):d,nextToken:u,total:p}}}]):[2,{errors:o.errors}]}}))}))},t.adminUpdateUserPermissions=function(e,a,i,s,c){return o(this,void 0,void 0,(function(){var o;return l(this,(function(l){switch(l.label){case 0:return[4,t.apiCall(e,a,k.default(b||(b=r(["\n            mutation project($id: ID!, $program: String!, $permission: String) {\n                updateUser(id: $id, program: $program, permission: $permission) {\n                    email\n                    name\n                    picture\n                    username\n                    createdOn\n                    updatedOn\n                    role\n                }\n            }\n        "],["\n            mutation project($id: ID!, $program: String!, $permission: String) {\n                updateUser(id: $id, program: $program, permission: $permission) {\n                    email\n                    name\n                    picture\n                    username\n                    createdOn\n                    updatedOn\n                    role\n                }\n            }\n        "]))),{program:s,id:i,permission:c})];case 1:return(o=l.sent()).data?[2,{errors:o.errors,data:{updateUser:o.data.updateUser?n(n({},o.data.updateUser),{createdOn:parseInt(o.data.updateUser.createdOn,10),updatedOn:parseInt(o.data.updateUser.updatedOn,10)}):null}}]:[2,{errors:o.errors}]}}))}))},t.adminGetUsers=function(e,a,i,s,c){return o(this,void 0,void 0,(function(){var o,u,d,p;return l(this,(function(l){switch(l.label){case 0:return[4,t.apiCall(e,a,k.default(x||(x=r(["\n            query getUsers($program: String!, $limit: Int, $nextToken: String) {\n                getUsers(program: $program, limit: $limit, nextToken: $nextToken) {\n                    users {\n                        email\n                        name\n                        picture\n                        username\n                        createdOn\n                        updatedOn\n                        role\n                    }\n                    nextToken\n                }\n            }\n        "],["\n            query getUsers($program: String!, $limit: Int, $nextToken: String) {\n                getUsers(program: $program, limit: $limit, nextToken: $nextToken) {\n                    users {\n                        email\n                        name\n                        picture\n                        username\n                        createdOn\n                        updatedOn\n                        role\n                    }\n                    nextToken\n                }\n            }\n        "]))),{program:i,limit:s,nextToken:c})];case 1:return(o=l.sent()).data?(u=o.data.getUsers||{},d=u.nextToken,p=u.users,[2,{errors:o.errors,data:{getUsers:{users:Array.isArray(p)?p.map((function(e){return n(n({},e),{createdOn:parseInt(e.createdOn,10),updatedOn:parseInt(e.updatedOn,10)})})):p,nextToken:d}}}]):[2,{errors:o.errors}]}}))}))}},574:function(e,t,a){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,l=n(a(408)),i=a(409),s=l.default(o||(o=r(['\n    # Check out the cheat sheet:\n    # https://raw.githubusercontent.com/sogko/graphql-shorthand-notation-cheat-sheet/master/graphql-shorthand-notation-cheat-sheet.png\n\n    schema {\n        query: Query\n        mutation: Mutation\n    }\n\n    type Query {\n        # Get a project and associated metadata\n        auth: AuthParams\n\n        project(id: ID!, program: String!): Project\n        projects(program: String!, projType: String, limit: Int, nextToken: String): PaginatedProjects\n\n        program(program: String!): Program\n        programs: [Program]\n\n        downloadFile(program: String!, id: ID!, projType: String!, filePath: String!): FileDownloadMeta\n\n        downloadZip(program: String!, id: ID!, projType: String!): FileDownloadMeta\n\n        # Request an upload start. Writes a manifest file on the upload bucket\n        # and creates upload urls for everything\n        requestUpload(id: ID, files: [String!], program: String!, projectType: String!): FileUpload\n\n        search(\n            program: String!\n            projType: String\n            nameStr: String\n            metaStr: String\n            metaArr: String\n            tags: String\n            noTags: Boolean\n            limit: Int\n            nextToken: Int\n        ): PaginatedSearchResults\n\n        validate(xml: String!, projType: String!, program: String!): Validation\n\n        getUsers(program: String!, limit: Int, nextToken: String): PaginatedUsers\n\n        projectTree(id: ID!, program: String!, projType: String!): ProjectTree\n    }\n\n    # this schema allows the following mutation:\n    type Mutation {\n        # signal a deletion of a project\n        deleteProject(id: ID!, program: String!): ID!\n        updateUser(id: ID!, program: String!, permission: String): User\n    }\n\n    type User {\n        email: String\n        name: String\n        picture: String\n        username: String!\n        createdOn: String\n        updatedOn: String\n        role: String\n    }\n\n    type PaginatedUsers {\n        users: [User]\n        nextToken: String\n    }\n\n    type Validation {\n        result: Boolean\n        xmlErrors: [String]\n    }\n\n    type AuthParams {\n        loggedIn: Boolean\n        userPool: String\n        clientId: String\n        region: String\n        domain: String\n    }\n\n    interface ProjectBase {\n        id: ID!\n        name: String\n        meta: String\n        tags: String\n        projType: String\n        program: String\n        createdBy: ID!\n        updatedBy: ID!\n        createdOn: String!\n        updatedOn: String!\n    }\n\n    type Project implements ProjectBase {\n        id: ID!\n        name: String\n        meta: String\n        tags: String\n        projType: String\n        totalSize: String\n        program: String\n        createdBy: ID!\n        updatedBy: ID!\n        createdOn: String!\n        updatedOn: String!\n        files: [FileDownloadMeta]\n        tree: ProjectTree\n    }\n\n    type ProjectSearchResult implements ProjectBase {\n        id: ID!\n        name: String\n        meta: String\n        tags: String\n        projType: String\n        totalSize: String\n        program: String\n        createdBy: ID!\n        updatedBy: ID!\n        createdOn: String!\n        updatedOn: String!\n        score: Float\n        files: [FileDownloadMeta]\n    }\n\n    # This is mostly just JSON that\'s stringified\n    type Product {\n        id: ID!\n        name: String!\n        folder: String\n        # Stringified JSON Array:\n        pathArr: String\n    }\n    type Group {\n        id: ID!\n        name: String!\n        folder: String\n    }\n    type NamedAllow {\n        id: ID!\n        name: String!\n        aliases: String\n        folder: String\n    }\n    type Collection {\n        id: ID!\n        name: String!\n        AllowRegex: [String]\n        Allow: [NamedAllow]\n    }\n    type Program {\n        name: String\n        machineName: String\n        projectXSDs: String\n        projectFile: String\n        meta: String\n        groups: [Group]\n        collections: [Collection]\n        products: [Product]\n        hierarchy: String\n        role: String\n    }\n\n    type FileDownloadMeta {\n        key: String!\n        md5: String!\n        size: String\n        contentType: String\n        downloadUrl: String!\n        pendingSince: String\n    }\n\n    type FileUpload {\n        id: ID!\n        uploadUrls: [UploadUrl]\n    }\n\n    type UploadUrl {\n        url: String\n        fields: String\n        origPath: String\n    }\n\n    type FileUploadMeta {\n        key: String!\n        downloadUrl: String!\n    }\n\n    # Series Connection allows us to implement pagination easily\n    type PaginatedProjects {\n        projects: [Project]\n        nextToken: String\n    }\n\n    type PaginatedSearchResults {\n        projects: [ProjectSearchResult]\n        nextToken: Int\n        total: Int\n    }\n\n    type NewProject {\n        id: ID!\n    }\n\n    """\n    ProjectTreeLayerTypes is an enumeration to help us display layers with the\n    correct icon and assign them to the right slot\n    """\n    enum ProjectTreeLayerTypes {\n        ',"\n    }\n\n    type ProjectTreeBranch {\n        label: String!\n        collapsed: Boolean\n        # Branch ID and parent ID\n        bid: Int\n        pid: Int\n    }\n    type ProjectTreeLeaf {\n        pid: Int\n        label: String!\n        layerId: ID\n        blLayerId: ID\n        layerType: ProjectTreeLayerTypes!\n        url: String\n        layerName: String\n        nodeExists: Boolean\n        # This is the path that helps u\n        metaStr: String\n    }\n\n    # The project tree comes back as non-recursive list of layers.\n    # The ProjectTree class will need to parse this into a typescript \n    # Recursive type\n    type ProjectTreeViewLayer {\n        id: ID!\n        visible: Boolean\n    }\n\n    type ProjectTreeViews {\n        id: ID!\n        name: String!\n        description: String\n        layers: [ProjectTreeViewLayer]\n    }\n\n    type ProjectTree {\n        name: String\n        description: String\n        projectType: String\n        metaStr: String\n        leaves: [ProjectTreeLeaf]\n        branches: [ProjectTreeBranch]\n        defaultView: ID!\n        views: [ProjectTreeViews]\n    }\n"],['\n    # Check out the cheat sheet:\n    # https://raw.githubusercontent.com/sogko/graphql-shorthand-notation-cheat-sheet/master/graphql-shorthand-notation-cheat-sheet.png\n\n    schema {\n        query: Query\n        mutation: Mutation\n    }\n\n    type Query {\n        # Get a project and associated metadata\n        auth: AuthParams\n\n        project(id: ID!, program: String!): Project\n        projects(program: String!, projType: String, limit: Int, nextToken: String): PaginatedProjects\n\n        program(program: String!): Program\n        programs: [Program]\n\n        downloadFile(program: String!, id: ID!, projType: String!, filePath: String!): FileDownloadMeta\n\n        downloadZip(program: String!, id: ID!, projType: String!): FileDownloadMeta\n\n        # Request an upload start. Writes a manifest file on the upload bucket\n        # and creates upload urls for everything\n        requestUpload(id: ID, files: [String!], program: String!, projectType: String!): FileUpload\n\n        search(\n            program: String!\n            projType: String\n            nameStr: String\n            metaStr: String\n            metaArr: String\n            tags: String\n            noTags: Boolean\n            limit: Int\n            nextToken: Int\n        ): PaginatedSearchResults\n\n        validate(xml: String!, projType: String!, program: String!): Validation\n\n        getUsers(program: String!, limit: Int, nextToken: String): PaginatedUsers\n\n        projectTree(id: ID!, program: String!, projType: String!): ProjectTree\n    }\n\n    # this schema allows the following mutation:\n    type Mutation {\n        # signal a deletion of a project\n        deleteProject(id: ID!, program: String!): ID!\n        updateUser(id: ID!, program: String!, permission: String): User\n    }\n\n    type User {\n        email: String\n        name: String\n        picture: String\n        username: String!\n        createdOn: String\n        updatedOn: String\n        role: String\n    }\n\n    type PaginatedUsers {\n        users: [User]\n        nextToken: String\n    }\n\n    type Validation {\n        result: Boolean\n        xmlErrors: [String]\n    }\n\n    type AuthParams {\n        loggedIn: Boolean\n        userPool: String\n        clientId: String\n        region: String\n        domain: String\n    }\n\n    interface ProjectBase {\n        id: ID!\n        name: String\n        meta: String\n        tags: String\n        projType: String\n        program: String\n        createdBy: ID!\n        updatedBy: ID!\n        createdOn: String!\n        updatedOn: String!\n    }\n\n    type Project implements ProjectBase {\n        id: ID!\n        name: String\n        meta: String\n        tags: String\n        projType: String\n        totalSize: String\n        program: String\n        createdBy: ID!\n        updatedBy: ID!\n        createdOn: String!\n        updatedOn: String!\n        files: [FileDownloadMeta]\n        tree: ProjectTree\n    }\n\n    type ProjectSearchResult implements ProjectBase {\n        id: ID!\n        name: String\n        meta: String\n        tags: String\n        projType: String\n        totalSize: String\n        program: String\n        createdBy: ID!\n        updatedBy: ID!\n        createdOn: String!\n        updatedOn: String!\n        score: Float\n        files: [FileDownloadMeta]\n    }\n\n    # This is mostly just JSON that\'s stringified\n    type Product {\n        id: ID!\n        name: String!\n        folder: String\n        # Stringified JSON Array:\n        pathArr: String\n    }\n    type Group {\n        id: ID!\n        name: String!\n        folder: String\n    }\n    type NamedAllow {\n        id: ID!\n        name: String!\n        aliases: String\n        folder: String\n    }\n    type Collection {\n        id: ID!\n        name: String!\n        AllowRegex: [String]\n        Allow: [NamedAllow]\n    }\n    type Program {\n        name: String\n        machineName: String\n        projectXSDs: String\n        projectFile: String\n        meta: String\n        groups: [Group]\n        collections: [Collection]\n        products: [Product]\n        hierarchy: String\n        role: String\n    }\n\n    type FileDownloadMeta {\n        key: String!\n        md5: String!\n        size: String\n        contentType: String\n        downloadUrl: String!\n        pendingSince: String\n    }\n\n    type FileUpload {\n        id: ID!\n        uploadUrls: [UploadUrl]\n    }\n\n    type UploadUrl {\n        url: String\n        fields: String\n        origPath: String\n    }\n\n    type FileUploadMeta {\n        key: String!\n        downloadUrl: String!\n    }\n\n    # Series Connection allows us to implement pagination easily\n    type PaginatedProjects {\n        projects: [Project]\n        nextToken: String\n    }\n\n    type PaginatedSearchResults {\n        projects: [ProjectSearchResult]\n        nextToken: Int\n        total: Int\n    }\n\n    type NewProject {\n        id: ID!\n    }\n\n    """\n    ProjectTreeLayerTypes is an enumeration to help us display layers with the\n    correct icon and assign them to the right slot\n    """\n    enum ProjectTreeLayerTypes {\n        ',"\n    }\n\n    type ProjectTreeBranch {\n        label: String!\n        collapsed: Boolean\n        # Branch ID and parent ID\n        bid: Int\n        pid: Int\n    }\n    type ProjectTreeLeaf {\n        pid: Int\n        label: String!\n        layerId: ID\n        blLayerId: ID\n        layerType: ProjectTreeLayerTypes!\n        url: String\n        layerName: String\n        nodeExists: Boolean\n        # This is the path that helps u\n        metaStr: String\n    }\n\n    # The project tree comes back as non-recursive list of layers.\n    # The ProjectTree class will need to parse this into a typescript \n    # Recursive type\n    type ProjectTreeViewLayer {\n        id: ID!\n        visible: Boolean\n    }\n\n    type ProjectTreeViews {\n        id: ID!\n        name: String!\n        description: String\n        layers: [ProjectTreeViewLayer]\n    }\n\n    type ProjectTree {\n        name: String\n        description: String\n        projectType: String\n        metaStr: String\n        leaves: [ProjectTreeLeaf]\n        branches: [ProjectTreeBranch]\n        defaultView: ID!\n        views: [ProjectTreeViews]\n    }\n"])),Object.values(i.ProjectTreeLayerTypes).join("\n      "));t.default=s},575:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Program=void 0;var n=function(){function e(e){Object.assign(this,e)}return e.fromGraphQL=function(t){if(!t)return null;var a=JSON.parse(t.meta);return new e(r(r({},t),{meta:a,role:t.role,products:t.products.map((function(e){return r(r({},e),{pathArr:JSON.parse(e.pathArr)})}))}))},e}();t.Program=n},576:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Project=void 0;var o=n(a(577));function l(e){e.sort((function(e,t){return e.children&&!t.children?-1:!e.children&&t.children?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}))}var i=function(){function e(e){var t=this;this.treeIzeFilePaths=function(){var e=[];return t.files.forEach((function(t){var a=t.key,r=a.split("/");1===r.length&&a.indexOf("\\")>-1&&(r=a.split("\\"));for(var n=e,o=function(){var e={name:r.shift(),children:[]},t=n.find((function(t){return t.name===e.name}));t&&t.children?n=t.children:(n.push(e),n=e.children),l(n)};r.length>1;)o();n.push({name:r[0],path:a})})),l(e),e},Object.assign(this,e),this.files||(this.files=[]),this.tree&&this.tree.leaves&&(this.tree.leaves=this.tree.leaves.map((function(e){return r(r({},e),{meta:e.metaStr?JSON.parse(e.metaStr):{}})})))}return e.fromGraphQL=function(t){return t?new e(r(r({},t),{createdOn:parseInt(t.createdOn,10),updatedOn:parseInt(t.updatedOn,10),meta:t.meta?JSON.parse(t.meta):{},tags:t.tags?t.tags.split(","):[]})):null},e.diff=function(e,t){var a=[],r=[];return t&&0!==t.length?e&&0!==e.length?{leftOnly:e.filter((function(e){var n=t.find((function(t){return e.key===t.key}));return n&&(n.md5===e.md5?r.push(e.key):a.push(e.key)),!n})).map((function(e){return e.key})),rightOnly:t.filter((function(t){return!e.find((function(e){return t.key===e.key}))})).map((function(e){return e.key})),different:a,same:r}:{leftOnly:[],rightOnly:t.map((function(e){return e.key})),different:[],same:[]}:{leftOnly:e.map((function(e){return e.key})),rightOnly:[],different:[],same:[]}},e.getProjectS3Keys=function(e,t,a){var r=o.default.join(e.machineName,a,t),n=r+".zip",l=o.default.join(r,e.projectFile),i=o.default.join(e.machineName,a,t+".zip.pending"),s=""+[e.machineName,a,t].join("-");return{prefix:r,zipKey:n,projFileKey:l,zipKeyPending:i,downloadFolderName:s,downloadZipFilename:s+".zip"}},e.parseDynamoMeta=function(e){var t=Object.keys(e).filter((function(e){return 0===e.indexOf("META_")})).reduce((function(t,a){var n,o=a.split("META_")[1];return r(r({},t),((n={})[o]=e[a],n))}),{});return JSON.stringify(t)},e.parseTagString=function(e){return e&&0!==e.trim().length?e.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0&&"null"!==e&&"undefined"!==e})):[]},e.parseS3Key=function(t,a){if(a.split("/").length<3)throw new Error("Not a valid project key");var r=a.split("/"),n=r[0],o=r[1],l=r[2];if(t.machineName!==n)throw new Error("Program passed to parseS3 key "+t.machineName+" does not correspond to program in key: "+n);return e.getProjectS3Keys(t,l,o)},e.parseS3KeyDUMB=function(e){var t=e.split("/");if(t.length<3)throw new Error("Not a valid project key");var a=t[0],r=t[1],n=t[2],l=o.default.join(a,r,n);return{programMachineName:a,projType:r,id:n,zipKey:l+".zip",prefix:l}},e}();t.Project=i},578:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;var n=function(e){function t(t,a){var r=e.call(this,t)||this;return r.name=r.constructor.name,r.reasons=a,Error.captureStackTrace(r,r.constructor),r}return r(t,e),t}(Error);t.ValidationError=n},579:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(28);t.default=function(e){var t,a,n,o;return{appBar:{zIndex:e.zIndex.drawer+1},root:{display:"flex",alignItems:"center",width:"100%",padding:e.spacing(0,1),textShadow:"3px 3px 3px rgba(0,0,0,0.7)",backgroundImage:"url(/webrave-staging/HeaderBackground.png)",backgroundRepeat:"no-repeat",backgroundPosition:"0% 50%",backgroundSize:"cover",backgroundColor:"#444444"},logo:{height:40,width:40,marginRight:e.spacing(2)},programChooser:{margin:e.spacing(0,1),color:e.palette.primary.contrastText,"& svg":{color:e.palette.primary.contrastText},"&:before":{borderColor:e.palette.primary.contrastText},"&:after":{borderColor:e.palette.primary.contrastText}},transparent:{backgroundColor:"transparent",background:"none",color:e.palette.text.primary},search:(t={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:r.fade(e.palette.common.white,.15),"&:hover":{backgroundColor:r.fade(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%",flexGrow:1},t[e.breakpoints.up("sm")]={marginLeft:e.spacing(3),width:"auto"},t),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},spacer:{flexGrow:1},inputInput:(a={padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},a[e.breakpoints.up("sm")]={width:200},a),sectionDesktop:(n={display:"none"},n[e.breakpoints.up("sm")]={display:"flex",flexGrow:1},n),sectionMobile:(o={display:"flex",flexGrow:1},o[e.breakpoints.up("sm")]={display:"none"},o)}}},584:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isDisabled=void 0;var o=n(a(0)),l=n(a(51)),i=n(a(208)),s=n(a(33)),c=n(a(142)),u=n(a(209)),d=n(a(143)),p=n(a(178)),m=n(a(179)),g=n(a(585)),f=a(28),y=n(a(3)),h=a(430),b=f.makeStyles((function(e){return{rootContainer:{height:"100%",display:"flex",flexDirection:"column"},spacer:{flexGrow:1},root:{padding:e.spacing(2,4,4,4)},logoContainer:{padding:e.spacing(2),textAlign:"center"},logo:{},accessChip:r({},Object.keys(h.accessColors).reduce((function(t,a){var n;return r(r({},t),((n={})["&.access_"+a]={color:e.palette.getContrastText(h.accessColors[a][500]),background:h.accessColors[a][500]},n))}),{}))}}));function x(e){return(!e.meta||!e.meta.access||"PUBLIC"!==e.meta.access)&&null===e.role}t.isDisabled=x;t.default=function(e){var t=e.programs,a=e.history,r=e.navigate,n=b();return o.default.createElement("div",{className:n.rootContainer},o.default.createElement("div",{className:n.spacer}),o.default.createElement(l.default,{className:n.root,elevation:1},o.default.createElement("div",{className:n.logoContainer},o.default.createElement("img",{className:n.logo,src:"/webrave-staging/RiverscapesLogo.png",alt:"logo"})),o.default.createElement(s.default,{variant:"h5"},"Choose a program:"),o.default.createElement(c.default,null,t&&t.map((function(e,t){var l=o.default.createElement(u.default,{icon:o.default.createElement(g.default,null),className:y.default(n.accessChip,"access_"+e.role),label:e.role||"Observer",color:"primary"}),s=x(e);return s&&(l=o.default.createElement(u.default,{label:"No Access",color:"default"})),o.default.createElement(d.default,{key:"progKey-"+t,disabled:s,button:!0,divider:!0,onClick:function(){return r(a,e)}},o.default.createElement(m.default,null,o.default.createElement(i.default,{alt:"programname"},e.name.substr(0,1))),o.default.createElement(p.default,{primary:e.name,secondary:e.meta.description}),l)}))),o.default.createElement(s.default,{paragraph:!0,variant:"caption"},"If there are programs labeled"," ",o.default.createElement(u.default,{label:"No Access",component:"span",color:"default",size:"small"})," and you think you should be able to see them please contact your program administrator.")),o.default.createElement("div",{className:n.spacer}))}},586:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(a(0)),c=a(28),u=i(a(210)),d=i(a(103)),p=i(a(139)),m=i(a(91)),g=i(a(211)),f=i(a(141)),y=i(a(140)),h=i(a(57)),b=i(a(136)),x=i(a(221)),w=i(a(33)),v=i(a(180)),k=i(a(278)),j=i(a(587)),_=i(a(588)),S=i(a(589)),z=i(a(590)),O=i(a(431)),P=i(a(315)),E=i(a(316)),T=i(a(426)),C=i(a(3)),L=i(a(433)),I=i(a(300)),N=i(a(429)),R=i(a(427)),A=i(a(299)),D=i(a(591)),U=i(a(593)),M=c.makeStyles(U.default);t.default=function(e){var t=e.onClose,a=e.project,n=e.downloadFile,o=e.webRaveUrl,l=e.program,i=e.showFileTree,c=e.pendingZips,U=e.downloadZipFile,B=M(),F=s.useState(null),$=F[0],W=F[1],G=s.useState(!1),V=G[0],Z=G[1],J=c[a.id],H=[{pattern:/.*\.(png|gif|jpg|jpeg)$/i,icon:s.default.createElement(_.default,{className:B.photoIcon}),classStr:"photo"},{pattern:/.*\.(tif|img|shp)$/i,icon:s.default.createElement(S.default,{className:B.TerrainIcon}),classStr:"terrain"},{pattern:/.*\.(csv|pdf|doc)$/i,icon:s.default.createElement(z.default,{className:B.documentIcon}),classStr:"assignment"}],q=(a.files||[]).reduce((function(e,t){var a,n=H.find((function(e){var a=e.pattern;return t.key.match(a)}));return r(r({},e),((a={})[t.key]=r(r({},t),{icon:n?n.icon:s.default.createElement(j.default,{className:B.normalIcon}),classStr:n?n.classStr:"normalIcon"}),a))}),{}),X=a.treeIzeFilePaths(),K=l.products.find((function(e){return e.id===a.projType})),Q=K?K.name:"Unknown",Y=Object.keys(a.meta).find((function(e){return"description"===e.toLowerCase()}));return s.default.createElement(p.default,{onClose:t,open:!0,maxWidth:"md",fullWidth:!0,className:B.root,classes:{scrollPaper:B.scrollPaper}},s.default.createElement(A.default,{open:V,shareUrl:window.location.href,handleClose:function(){return Z(!1)}}),s.default.createElement(f.default,{disableTypography:!0,className:B.titlebar},s.default.createElement("div",{className:B.titlebarLeft},s.default.createElement(d.default,{title:s.default.createElement(w.default,{variant:"body1"},a.name)},s.default.createElement(w.default,{variant:"h5",component:"div",className:C.default(B.name,B.allowSelect)},a.name)),s.default.createElement("div",{className:B.subHeader},s.default.createElement("div",{className:B.flexGrow},s.default.createElement(w.default,{variant:"caption",color:"inherit",component:"div"},"ID: ",s.default.createElement("span",{className:B.allowSelect},a.id))))),t?s.default.createElement("div",null,s.default.createElement(h.default,{"aria-label":"close",className:B.closeButton,onClick:t,size:"small"},s.default.createElement(x.default,null))):null),s.default.createElement(y.default,{dividers:!0},s.default.createElement("div",{className:C.default(B.allowSelect)},s.default.createElement("div",{className:B.header},s.default.createElement("div",{className:B.headerLeft},s.default.createElement(w.default,{variant:"caption",component:"div",color:"inherit"},s.default.createElement("strong",null,"Project Type"),": ",s.default.createElement("strong",null,Q)," (",K&&K.id,")"),s.default.createElement(w.default,{variant:"caption",component:"div",color:"inherit"},s.default.createElement("strong",null,"Created"),": ",I.default(a.createdOn,"x").fromNow()," (",I.default(a.createdOn,"x").format("lll"),")"),s.default.createElement(w.default,{variant:"caption",component:"div",color:"inherit"},s.default.createElement("strong",null,"Updated"),": ",I.default(a.updatedOn,"x").fromNow()," (",I.default(a.updatedOn,"x").format("lll"),")"),s.default.createElement(w.default,{variant:"caption",component:"div",color:"inherit"},s.default.createElement("strong",null,"Warehouse tags: "),s.default.createElement(T.default,{tags:a.tags})),s.default.createElement(w.default,{variant:"caption",component:"div",color:"inherit"},s.default.createElement("strong",null,"Size (Unzipped)"),":"," ",a.totalSize&&a.totalSize>-1?L.default(a.totalSize):"Not available")),s.default.createElement("div",{className:B.headerRight},s.default.createElement(g.default,{color:"primary"},o&&s.default.createElement(N.default,r({title:"Map",url:o},{project:a},{btnProps:{variant:"text"}})),s.default.createElement(m.default,{variant:"text",onClick:function(){return Z(!0)},style:{cursor:"pointer"},startIcon:s.default.createElement(k.default,null)},"Share"),s.default.createElement(R.default,r({title:"Download"},{project:a,pendingSince:J,downloadZipFile:U},{btnProps:{variant:"text"}}))))),Y&&s.default.createElement("div",null,s.default.createElement(w.default,{className:B.title,color:"inherit",component:"div",variant:"subtitle1"},"Description"),s.default.createElement(w.default,{color:"textSecondary",variant:"body2"},a.meta[Y])),s.default.createElement(w.default,{className:B.title,color:"inherit",variant:"subtitle1"},"Metadata"),s.default.createElement(b.default,null),s.default.createElement("div",{className:B.metaDisplay},Object.keys(a.meta).filter((function(e){return-1===["description"].indexOf(e.toLowerCase())})).map((function(e,t){var r=a.meta[e];return 0===a.meta[e].indexOf("http")&&(r=s.default.createElement(u.default,{href:a.meta[e],target:"_blank"},a.meta[e])),s.default.createElement(d.default,{key:"result-"+t,placement:"bottom",title:s.default.createElement(s.default.Fragment,null,s.default.createElement(w.default,{variant:"body1",component:"div"},s.default.createElement("strong",null,e)),s.default.createElement(w.default,{variant:"body2",component:"div"},r))},s.default.createElement("div",{className:B.metaDisplayItem},s.default.createElement(w.default,{variant:"caption",component:"div",color:"textPrimary"},s.default.createElement("strong",null,e)),s.default.createElement(w.default,{variant:"caption",component:"div",color:"textPrimary"},r)))})))),i&&s.default.createElement(s.default.Fragment,null,s.default.createElement(w.default,{className:B.title,color:"inherit",variant:"subtitle1"},"Files"),s.default.createElement(b.default,null),s.default.createElement(O.default,{className:B.treeRoot,defaultExpanded:["1"],disableSelection:!0,defaultCollapseIcon:s.default.createElement(P.default,{color:"inherit"}),defaultExpandIcon:s.default.createElement(E.default,{color:"inherit"})},X.map((function(e,t){return s.default.createElement(D.default,{project:a,key:"treeNode-"+t,keyStr:"treeNode-"+t,item:e,fileDict:q,fileClick:n})}))))),s.default.createElement(v.default,{open:Boolean($),anchorEl:$?$[0]:null,onClose:function(){return W(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},s.default.createElement(w.default,{className:B.popOver},$?$[1]:"")))}},591:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=a(28),l=r(a(57)),i=r(a(33)),s=r(a(103)),c=r(a(428)),u=r(a(434)),d=r(a(433)),p=r(a(592)),m=o.makeStyles(p.default);t.default=function e(t){var a=t.item,r=t.fileDict,o=t.keyStr,p=t.project,g=t.fileClick,f=m();if(a.children){var y=a.children.map((function(t,a){return n.default.createElement(e,{keyStr:o+"-l"+a,key:o+"-l"+a,item:t,fileDict:r,project:p,fileClick:g})}));return n.default.createElement(u.default,{nodeId:o,className:f.treeFolder,classes:{content:f.treeFolderContent},label:n.default.createElement("div",{className:f.treeFolderText},a.name)},y)}var h=a.path?r[a.path]:{size:"0"};return n.default.createElement(u.default,{nodeId:o,className:f.treeFile,classes:{root:f.treeItemRoot,content:f.treeFileContent},label:n.default.createElement("div",{className:f.treeItemContainer},n.default.createElement("div",{className:f.treeItemText},n.default.createElement(i.default,{color:"textPrimary",component:"div",variant:"body1"},a.name),n.default.createElement(i.default,{color:"textSecondary",component:"div",variant:"caption"},d.default(parseInt(h.size,10))," --"," ",n.default.createElement("span",{className:f.allowSelect},a.path))),n.default.createElement(s.default,{title:n.default.createElement(n.default.Fragment,null,n.default.createElement(i.default,{variant:"body1"},"Download: ",a.path))},n.default.createElement(l.default,{disableRipple:!0,className:f.treeItemIcon,color:"primary",onClick:function(){return g(p,a.path)}},n.default.createElement(c.default,null)))),endIcon:h.icon})}},592:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{treeItemRoot:{backgroundColor:e.palette.background.paper,"&:nth-child(odd)":{backgroundColor:e.palette.background.default}},treeItemContainer:{display:"flex"},treeItemText:{marginLeft:e.spacing(1),padding:e.spacing(1),flexGrow:1},treeItemIcon:{},treeFile:{},treeFileContent:{borderBottom:"1px solid "+e.palette.grey[100]},treeFolder:{},treeFolderContent:{},treeFolderText:{padding:e.spacing(1)},allowSelect:{"&,& *":{userSelect:"text",cursor:"auto"}}}}},593:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(112);t.default=function(e){return{root:{margin:0,padding:e.spacing(2)},allowSelect:{"&,& *":{userSelect:"text",cursor:"auto"}},scrollPaper:{alignItems:"baseline"},name:{maxWidth:"95%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginBottom:e.spacing(1)},titlebar:{backgroundColor:"#444444",color:e.palette.primary.contrastText,display:"flex"},titlebarLeft:{flexGrow:1},header:{display:"flex"},headerLeft:{flex:"1 1 80%"},headerRight:{textAlign:"right",flex:"1 0"},flexGrow:{flexGrow:1},closeButton:{flex:"0 0",color:e.palette.grey[500]},normalIcon:{},documentIcon:{color:r.red[500]},photoIcon:{color:r.purple[500]},TerrainIcon:{color:r.green[500]},metaDisplay:{display:"flex",flexFlow:"wrap"},title:{marginTop:e.spacing(2)},treeItemContainer:{display:"flex"},treeItemText:{marginLeft:e.spacing(1),flexGrow:1},treeItemIcon:{},treeFileContent:{borderBottom:"1px solid "+e.palette.grey[100],padding:e.spacing(1)},treeFolder:{},treeFolderContent:{padding:e.spacing(1)},metaDisplayItem:{flex:"1 1",borderRadius:e.spacing(1),backgroundColor:"#fafafa",margin:e.spacing(1,.5),border:"#1px solid #e7e7e7",padding:e.spacing(1),maxWidth:"25%",minWidth:150,"&>*":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},prodChip:{marginLeft:e.spacing(1),backgroundColor:e.palette.primary.light,color:"white"},popOver:{padding:e.spacing(2)},subHeader:{width:"100%",display:"flex"}}}},594:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=r(a(33)),l=r(a(91)),i=r(a(51)),s=r(a(595)),c=a(28).makeStyles((function(e){return{rootContainer:{height:"100%",display:"flex",flexDirection:"column"},spacer:{flexGrow:1},root:{padding:e.spacing(2,4,4,4)},logoContainer:{padding:e.spacing(2),textAlign:"center"},logo:{}}}));t.default=function(e){var t=e.signIn,a=c();return n.default.createElement("div",{className:a.rootContainer},n.default.createElement("div",{className:a.spacer}),n.default.createElement(i.default,{className:a.root},n.default.createElement("div",{className:a.logoContainer},n.default.createElement("img",{className:a.logo,src:"/webrave-staging/RiverscapesLogo.png",alt:"logo"})),n.default.createElement(o.default,{paragraph:!0,variant:"body1"},"Welcome to the Riverscapes Warehouse. Please click the button below to log in."),n.default.createElement(o.default,{paragraph:!0,variant:"body1"},"If you don't have an account you will be prompted to use your Google account or create a new account using another email address."),n.default.createElement(l.default,{variant:"contained",onClick:t,color:"primary",fullWidth:!0,size:"large",startIcon:n.default.createElement(s.default,null)},"Sign In")),n.default.createElement("div",{className:a.spacer}))}},596:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=a(28),l=r(a(139)),i=r(a(141)),s=r(a(140)),c=r(a(212)),u=r(a(91)),d=r(a(597)),p=r(a(33)),m=o.makeStyles((function(e){return{root:{marginLeft:e.spacing(1)},titlebar:{display:"flex",background:e.palette.error.main,color:e.palette.error.contrastText},closeButton:{},name:{paddingLeft:e.spacing(1),flexGrow:1}}}));t.default=function(e){var t=e.onClose,a=e.program,r=m();return n.default.createElement(l.default,{onClose:t,open:!0,maxWidth:"xs",fullWidth:!0,className:r.root,classes:{}},n.default.createElement(i.default,{disableTypography:!0,className:r.titlebar},n.default.createElement(d.default,{color:"inherit"}),n.default.createElement(p.default,{className:r.name},"Access Denied")),n.default.createElement(s.default,{dividers:!0},a?n.default.createElement(p.default,{variant:"body1",component:"div",color:"inherit"},"You don't have access to the program ",n.default.createElement("strong",null,a.name),".","If you arrived here via URL you will be able to use the URL ","again once you have access."):n.default.createElement(p.default,{variant:"body1",component:"div",color:"inherit"},"This URL is not valid. If you arrived here via URL you will be able to use the URL again once you have access.")),n.default.createElement(c.default,null,n.default.createElement(u.default,{onClick:t,color:"primary"},"Back")))}},598:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(n,o){function l(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var a,r,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(n=(n=l.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){l.label=o[1];break}if(6===o[0]&&l.label<n[1]){l.label=n[1],n=o;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(o);break}n[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(i){o=[6,i],r=0}finally{a=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),s=a(23),c=l(a(70)),u=l(a(20)),d=a(176);t.default=function(e,t){var a=i.useState({}),l=a[0],p=a[1],m=i.useRef();m.current=l;var g=i.useCallback((function(a,r){return n(void 0,void 0,void 0,(function(){var n,l,i;return o(this,(function(o){switch(o.label){case 0:if(!t)return[2,Promise.resolve()];o.label=1;case 1:return o.trys.push([1,4,,5]),[4,e.getCurrentToken()];case 2:return n=o.sent(),[4,s.downloadFile(d.endpoints.graphql,n,a.projType,t.machineName,a.id,r)];case 3:l=o.sent();try{l.data&&window.open(l.data.downloadFile.downloadUrl,"_self")}catch(c){u.default.error("DOWNLOAD err",c)}return[3,5];case 4:return i=o.sent(),u.default.error("DOWNLOAD err",i),[3,5];case 5:return[2]}}))}))}),[t,e]),f=i.useCallback((function(a){if(!t)return Promise.resolve();return function n(){return e.getCurrentToken().then((function(e){return s.downloadZipFile(d.endpoints.graphql,e,a.projType,t.machineName,a.id)})).then((function(e){var t;try{e.data&&!e.data.downloadZip.pendingSince?(p(c.default.pickBy(m.current,(function(e,t){return t!==a.id}))),window.open(e.data.downloadZip.downloadUrl,"_self")):(p(r(r({},m.current),((t={})[a.id]=e.data?e.data.downloadZip.pendingSince:Date.now(),t))),setTimeout(n,5e3))}catch(o){u.default.error("DOWNLOAD err",o)}})).catch((function(e){u.default.error("DOWNLOAD err",e)}))}()}),[t,e]);return{pendingZips:m.current,downloadFileFn:g,downloadZipFile:f}}},599:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),l=a(176),i=n(a(20));t.default=function(e,t,a){var n=o.useState(),s=n[0],c=n[1],u=o.useRef();return u.current=s,o.useEffect((function(){if(e&&t&&e.params&&e.params.program)try{var o=null===t||void 0===t?void 0:t.find((function(t){return t.machineName===e.params.program}));!o||u.current&&u.current.machineName===o.machineName||(o.collections=o.collections.map((function(e,t){return r(r({},e),{color:l.mandatoryMetaColors[t%l.mandatoryMetaColors.length]})})),u.current=o,i.default.debug("useProgram",{match:e,newProg:o,programs:t}),c(o),a&&a(o))}catch(n){return}}),[e,t,a]),s}},600:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),l=a(23),i=a(176),s=n(a(20));t.default=function(e,t,a,n,c){void 0===n&&(n=!1),void 0===c&&(c=!1);var u=o.useState({loading:!1}),d=u[0],p=u[1],m=o.useRef();return m.current=d,o.useEffect((function(){if(t&&t.params){t.params.project||p({loading:!1});try{if(!a||!t||!t.params||!t.params.project||t.params.project.length<10)return;var o=a.machineName,d=!1;setTimeout((function(){d||p(r(r({},m.current),{loading:!0}))}),500),e.getCurrentToken().then((function(e){return l.getProject(i.endpoints.graphql,e,t.params.project,o,n,c)})).then((function(e){var t;d=!0,s.default.debug("getProjectById::Response",e),e.data&&m.current&&m.current.project&&(null===(t=m.current)||void 0===t?void 0:t.project.id)===e.data.project.id||(e.data?p({project:e.data.project,loading:!1}):p({project:void 0,loading:!1}))})).catch((function(e){d=!0,p({project:void 0,loading:!1}),s.default.error("api.getProjectById error",e)}))}catch(u){return}}}),[t,a,e]),d}},601:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=a(183),s=a(70),c=o(a(20));t.default=function(){var e=l.useState(),t=e[0],a=e[1],o=i.useHistory(),u=i.useParams(),d=u.project,p=u.program,m=n(u,["project","program"]);return l.useEffect((function(){if(t){var e=new URLSearchParams;Object.keys(t).forEach((function(a){e.append(a,encodeURIComponent(JSON.stringify(t[a])))})),s.isEqual(r({},e),r({},m))||(c.default.warn("MARZIPAN::QUERY SET",JSON.stringify({query:t,params:m,isEqual:s.isEqual(e,m)})),o.push({search:e.toString()}))}else{var n={};Object.keys(m).forEach((function(e){n[e]=JSON.parse(decodeURIComponent(m[e]))})),s.isEqual(t,n)||(c.default.warn("MARZIPAN::FIRST TIME",{newQuery:n,query:t,project:d,program:p}),a(n))}}),[t,o,m]),{query:t,setQuery:a}}},605:function(e,t,a){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=a(28),o=a(112),l={palette:{primary:{main:o.indigo[500]},secondary:{main:o.orange[600],contrastText:"#FFFFFF"},text:{}}},i=r(r({},l),{palette:r(r({},l.palette),{type:"dark"})});t.default={home:n.createMuiTheme(l),homeDark:n.createMuiTheme(i)}},606:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},623:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=r(a(39));t.default=o.default(n.default.createElement(n.default.Fragment,null,n.default.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:"5.5",cy:"5.5",r:"2.5"}),n.default.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:"5.5",cy:"18.5",r:"2.5"}),n.default.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:"12",cy:"12",r:"2.5"}),n.default.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:"18.5",cy:"10",r:"2.5"}),n.default.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:"17.5",cy:"16.5",r:"2.5"})),"Multidot")},624:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=r(a(39));t.default=o.default(n.default.createElement(n.default.Fragment,null,n.default.createElement("path",{d:" M 5.932 4.519 C 5.976 4.353 6 4.179 6 4 C 6 2.896 5.104 2 4 2 C 2.896 2 2 2.896 2 4 L 2 4 L 2 4 L 2 4 L 2 4 C 2 4.74 2.402 5.386 3 5.732 L 3 18.268 C 2.402 18.614 2 19.26 2 20 L 2 20 L 2 20 L 2 20 L 2 20 C 2 21.104 2.896 22 4 22 C 4.74 22 5.386 21.598 5.732 21 L 18.268 21 L 18.268 21 C 18.614 21.598 19.26 22 20 22 C 21.104 22 22 21.104 22 20 C 22 19.26 21.598 18.614 21 18.268 L 21 9.732 L 21 9.732 C 21.598 9.386 22 8.74 22 8 C 22 6.896 21.104 6 20 6 C 18.937 6 18.067 6.831 18.004 7.878 L 13.1 10.33 C 12.784 10.121 12.406 10 12 10 C 11.822 10 11.65 10.023 11.486 10.067 L 5.932 4.519 Z  M 5 18.268 C 5.303 18.444 5.556 18.697 5.732 19 L 18.268 19 C 18.444 18.697 18.697 18.444 19 18.268 L 19 9.732 C 18.966 9.712 18.933 9.692 18.9 9.67 L 13.996 12.122 C 13.933 13.169 13.063 14 12 14 C 10.896 14 10 13.104 10 12 L 10 12 C 10 11.822 10.023 11.649 10.067 11.485 L 5 6.41 L 5 18.268 Z ",fillRule:"evenodd"})),"Polygon")},625:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=r(a(39));t.default=o.default(n.default.createElement(n.default.Fragment,null,n.default.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:"4",cy:"13",r:"2"}),n.default.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:"12",cy:"9",r:"2"}),n.default.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:"20",cy:"13",r:"2"}),n.default.createElement("path",{d:" M 4.45 13.89 L 3.55 14.34 L 2.66 12.55 L 3.55 12.11 L 12 7.88 L 20.45 12.11 L 21.34 12.55 L 20.45 14.34 L 19.55 13.89 L 12 10.12 L 4.45 13.89 Z "})),"Polyline")},626:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=r(a(39));t.default=o.default(n.default.createElement(n.default.Fragment,null,n.default.createElement("path",{d:"M22,2l0,20l-20,0l0,-20l20,0Zm-2,2l-16,0l0,16l16,0l0,-16Z"}),n.default.createElement("rect",{x:"5",y:"5",width:"4",height:"4"}),n.default.createElement("rect",{x:"15",y:"5",width:"4",height:"4"}),n.default.createElement("rect",{x:"5",y:"15",width:"4",height:"4"}),n.default.createElement("rect",{x:"10",y:"10",width:"1",height:"5"}),n.default.createElement("rect",{x:"11",y:"10",width:"6",height:"2"}),n.default.createElement("rect",{x:"11",y:"12",width:"2",height:"2"}),n.default.createElement("rect",{x:"13",y:"7",width:"1",height:"2"}),n.default.createElement("rect",{x:"14",y:"9",width:"1",height:"1"}),n.default.createElement("rect",{x:"8",y:"10",width:"1",height:"4"}),n.default.createElement("rect",{x:"7",y:"11",width:"1",height:"3"}),n.default.createElement("rect",{x:"9",y:"11",width:"1",height:"1"}),n.default.createElement("rect",{x:"10",y:"6",width:"2",height:"3"}),n.default.createElement("rect",{x:"12",y:"7",width:"1",height:"1"}),n.default.createElement("rect",{x:"15",y:"14",width:"2",height:"4"}),n.default.createElement("rect",{x:"14",y:"14",width:"1",height:"1"}),n.default.createElement("rect",{x:"17",y:"15",width:"2",height:"2"}),n.default.createElement("rect",{x:"11",y:"16",width:"1",height:"3"}),n.default.createElement("rect",{x:"12",y:"15",width:"2",height:"2"}),n.default.createElement("rect",{x:"10",y:"18",width:"1",height:"1"})),"QRCode")},627:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=r(a(39));t.default=o.default(n.default.createElement(n.default.Fragment,null,n.default.createElement("g",null,n.default.createElement("g",{transform:"matrix(1,0,0,1,-1.77636e-15,3.97768)"},n.default.createElement("rect",{x:"4",y:"4.022",width:"4",height:"3.978"})),n.default.createElement("g",{transform:"matrix(1,0,0,1,0,11.9777)"},n.default.createElement("rect",{x:"4",y:"4.022",width:"4",height:"3.978"})),n.default.createElement("g",{transform:"matrix(1,0,0,1,8,4)"},n.default.createElement("rect",{x:"4",y:"4.022",width:"4",height:"3.978"})),n.default.createElement("g",{transform:"matrix(1,0,0,1,8,12)"},n.default.createElement("rect",{x:"4",y:"4.022",width:"4",height:"3.978"})),n.default.createElement("g",{transform:"matrix(1,0,0,1,4,-0.0223232)"},n.default.createElement("rect",{x:"4",y:"4.022",width:"4",height:"3.978"})),n.default.createElement("g",{transform:"matrix(1,0,0,1,4,7.97768)"},n.default.createElement("rect",{x:"4",y:"4.022",width:"4",height:"3.978"})),n.default.createElement("g",{transform:"matrix(1,0,0,1,12,0)"},n.default.createElement("rect",{x:"4",y:"4.022",width:"4",height:"3.978"})),n.default.createElement("g",{transform:"matrix(1,0,0,1,12,8)"},n.default.createElement("rect",{x:"4",y:"4.022",width:"4",height:"3.978"}))),n.default.createElement("g",{id:"Raster"},n.default.createElement("path",{d:"M21,5.432C21,4.09 19.91,3 18.568,3L5.432,3C4.09,3 3,4.09 3,5.432L3,18.568C3,19.91 4.09,21 5.432,21L18.568,21C19.91,21 21,19.91 21,18.568L21,5.432Z",style:{fillOpacity:0}}),n.default.createElement("path",{d:"M22,5.432C22,3.538 20.462,2 18.568,2L5.432,2C3.538,2 2,3.538 2,5.432L2,18.568C2,20.462 3.538,22 5.432,22L18.568,22C20.462,22 22,20.462 22,18.568L22,5.432ZM20,5.432L20,18.568C20,19.358 19.358,20 18.568,20C18.568,20 5.432,20 5.432,20C4.642,20 4,19.358 4,18.568C4,18.568 4,5.432 4,5.432C4,4.642 4.642,4 5.432,4C5.432,4 18.568,4 18.568,4C19.358,4 20,4.642 20,5.432Z"}))),"Multidot")},700:function(e,t,a){},704:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(30),l=a.n(o),i=a(41),s=a(760),c=a(40),u=a(76),d=a(44),p=a(20),m=a.n(p),g=a(9),f=function(e){var t=e.title,a=e.children,r=e.match,n=e.history,o=e.programs,l=e.signOut,d=e.containerProps,p=Object(c.useProgram)(r,o);return Object(g.jsx)(s.a,{theme:c.themes.home,children:Object(g.jsx)(u.a,{containerProps:Object(i.a)({maxWidth:p?"md":"sm"},d),noScroll:!0,fullWidth:!0,topbar:Object(g.jsx)(c.Topbar,{history:n,title:t,signOutHandler:l,shareUrl:window.location.href}),children:Object(g.jsx)(g.Fragment,{children:a})})})},y=a(415),h=a(94),b=a(23),x=a(472),w=a(473),v=a(474),k=a(772),j=a(773),_=a(774),S=[{id:"SATELLITE",title:"Satellite Imagery",toolTip:"Satellite Imagery",Icon:k.a,color:"green",style:x},{id:"STREET",title:"Street Map",toolTip:"Street Map",Icon:j.a,color:"blue",style:w},{id:"HILLSHADE",title:"Hillshade",toolTip:"Hillshade",Icon:_.a,color:"blue",style:v}],z=a(481),O=a.n(z),P=a(480),E=a.n(P),T=a(384),C=a(379),L=a(149),I=a(152),N=a(155),R=a(154),A=a(153),D=a(410),U=a(411),M=a(412),B=a(413),F=Object({NODE_ENV:"production",PUBLIC_URL:"/webrave-staging",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"0.1.4",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoibm9ydGhhcnJvd3Jlc2VhcmNoIiwiYSI6ImNrbDhjN25hcTIxZnYyb2xjOXZzaGxoMDcifQ.JlXGE_yO53x3iVlUb4MCLg",REACT_APP_GRAPHQL:"https://w3sczcn3l5.execute-api.us-west-2.amazonaws.com/staging/api",REACT_APP_WAREHOUSE_URL:"https://northarrowresearchlabs.github.io/riverscapes-staging"}).REACT_APP_DOMAIN;m.a.debug("config: ",{domain:F});"".concat("https://w3sczcn3l5.execute-api.us-west-2.amazonaws.com/staging/api");var $="https://northarrowresearchlabs.github.io/riverscapes-staging",W=(I.a,N.a,R.a,A.a,D.a,U.a,M.a,B.a,[I.a,N.a,R.a,A.a,D.a,U.a,M.a,B.a]),G=new URL("/webrave-staging".endsWith("/")?"/webrave-staging":"/webrave-staging/",window.location.origin);console.log("RedirectUrl",{redirectUrl:G,publicUrl:"/webrave-staging"});var V=a(70),Z=a.n(V);const J=[b.ProjectTreeLayerTypes.point,b.ProjectTreeLayerTypes.line,b.ProjectTreeLayerTypes.polygon,b.ProjectTreeLayerTypes.tin,b.ProjectTreeLayerTypes.raster];let H=[];var q=(e,t)=>{const[a,n]=Object(r.useState)(""),[o,l]=Object(r.useState)(e&&e.tree.defaultView||"custom"),[i,s]=Object(r.useState)([]),c=a=>{if(!e)return;const r=[...a];r.sort(((t,a)=>{if(t.layerType!==a.layerType)return J.indexOf(t.layerType)-J.indexOf(a.layerType);{const r=e.tree.leaves.findIndex((({treePath:e})=>e===t.treePath)),n=e.tree.leaves.findIndex((({treePath:e})=>e===a.treePath));return console.log("SORT::",{idxA:r,idxB:n}),r-n}}));const n=r.map((e=>{const a=i.find((t=>t.leaf===e));let r;return r=e.layerType!==b.ProjectTreeLayerTypes.raster?a?a.legend.color:function(){0===H.length&&(H=[...W]);const e=Object(V.random)(0,H.length-1),t=H[e];return H=H.filter(((t,a)=>a!==e)),t}():L.a,{leaf:e,tiles:e.url?t[e.url]:void 0,legend:{color:r}}}));Object(V.isEqual)(i,n)||s(n)};Object(r.useEffect)((()=>{var t;if(!e)return;const a=null===(t=e.tree.views)||void 0===t?void 0:t.find((({id:e})=>o===e));if(!a)return;const r=a.layers.map((t=>e.tree.leaves.find((({blLayerId:e})=>e&&e===t.id)))).filter((e=>e));c(r)}),[e,o,Object.values(t).map((({status:e})=>e))]);return{currView:o,layersError:a,layers:i,addLayer:e=>{if(!i.find((t=>t.leaf===e))){if(5===i.length)return void n("This map supports a maximum of 5 layers");const t=[...i.map((({leaf:e})=>e)),e];c(t),l("custom"),n("")}},removeLayer:e=>{i.find((t=>t.leaf===e))&&(c(i.filter((t=>t.leaf!==e)).map((({leaf:e})=>e))),l("custom"),n(""))},changeView:e=>{e&&"custom"===e&&c([]),l(e),n("")}}},X=a(80),K=a.n(X),Q=a(475),Y=a(118),ee=a(86),te=a(476),ae=new(a.n(te).a)({maxConcurrent:1}),re={tiles:{},zoomBounds:[4,18]};function ne(e,t,a){var r=a?Math.max(e[1],a):e[1];return[e[0],r]}function oe(e,t){if(t||e)return t&&!e?t:e&&!t?e:e&&t?[Math.min(t[0],e[0]),Math.min(t[1],e[1]),Math.max(t[2],e[2]),Math.max(t[3],e[3])]:void 0}var le=function(e){var t=Object(r.useState)(re),a=Object(ee.a)(t,2),n=a[0],o=a[1],l=Object(r.useRef)();l.current=n;var s=function(e){var t,a,r,n=l.current||re;o(Object(i.a)(Object(i.a)({},n),{},{zoomBounds:ne(n.zoomBounds,null===(t=e.tileJSON)||void 0===t||t.minZoom,null===(a=e.tileJSON)||void 0===a?void 0:a.maxZoom),bounds:oe(n.bounds,null===(r=e.tileJSON)||void 0===r?void 0:r.bounds),tiles:Object(i.a)(Object(i.a)({},n.tiles),{},Object(Y.a)({},e.url,e))}))};return Object(r.useEffect)((function(){var t=e.viewLayers(),a=e.project.tree.leaves.filter((function(e){var t=e.layerType,a=e.url,r=e.nodeExists;return b.ProjectTreeLayerTileTypes.indexOf(t)>-1&&r&&a&&a.length>0})).reduce((function(a,r){var n,o=r.url+("/"===(null===(n=r.url)||void 0===n?void 0:n.slice(-1))?"":"/")+"index.json";return Object(i.a)(Object(i.a)({},a),{},Object(Y.a)({},r.url,{url:r.url,indexUrl:o,status:b.TilingStatus.UNKNOWN,priority:ce(r,t,e.defaultView),retry:0,tileJSON:null}))}),{}),r=l.current||re;o(Object(i.a)(Object(i.a)({},r),{},{tiles:a})),Promise.all(Object.keys(a).map((function(e,t){return ae.schedule({priority:a[e].priority},(function(){return ie(a[e],t,s)}))})))}),[e]),n};function ie(e,t,a){return se.apply(this,arguments)}function se(){return(se=Object(Q.a)(K.a.mark((function e(t,a,r){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.indexUrl).then((function(e){return e.json()})).then((function(e){return Object(i.a)(Object(i.a)({},t),{},{error:e.error,status:e.status,tileJSON:e})})).catch((function(e){m.a.error(e);var n=Object(i.a)(Object(i.a)({},t),{},{retry:t.retry+1,error:"Tiles for this layer could not be found"});return n.retry<5&&ae.schedule({priority:n.priority},(function(){return ie(n,a,r)})),n}));case 2:return n=e.sent,r(n),e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t,a){try{var r=Object.keys(t).find((function(a){return t[a].indexOf(e)>-1}));return r&&r===a?0:r?1:2}catch(n){return 3}}var ue=class{constructor(e){this.project=void 0,this.defaultView=void 0,this.views=void 0,this.tree=void 0,this.leafLookup=void 0,this.findLeafByPath=(e,t=this.tree)=>{if(0===e.length)return null;const a=[...e],r=a.shift();return 1===e.length&&t.leaves.length>r?t.leaves[r]:e.length>1&&t.subBranches.length>e[e.length-1]?this.findLeafByPath(a,t.subBranches[r]):null},this.viewLayers=()=>this.views.reduce(((e,{id:t})=>({...e,[t]:this.getLayersByView(t)})),{}),this.getLayersByView=e=>{const t=e||this.defaultView;if(!t||0===t.length)return null;const a=this.views.find((({id:e})=>t===e));return a?a.layers.map((e=>this.project.tree.leaves.find((({layerId:t})=>t&&t===e.id)))).filter((e=>e)):null},this.getDefaultExpandedLayers=()=>this.project.tree.branches.filter((({collapsed:e})=>!0!==e)),this.filterTreeByTextRecursive=(e,t,a=this.tree)=>({...a,leaves:a.leaves.map((r=>({...r,hidden:Boolean(e&&e.length>t&&a.treeBranch.label.toLowerCase().indexOf(e)<0&&r.label.toLowerCase().indexOf(e)<0)}))),subBranches:a.subBranches.map((a=>({...this.filterTreeByTextRecursive(e,t,a),treeBranch:{...a.treeBranch,hidden:Boolean(e&&e.length>t&&a.searchText.indexOf(e)<0)}})))}),this.buildTreeRecursive=(e,t=[])=>{const a=this.project.tree.branches.filter((({pid:t})=>t===e.bid)).map(((e,a)=>this.buildTreeRecursive(e,[...t,a]))).filter((({subBranches:e,leaves:t})=>e.length>0||t.length>0)),r=this.project.tree.leaves.filter((({pid:t,label:a})=>t===e.bid&&"Layer missing"!==a));r.forEach(((e,a)=>{const r=[...t,a].join(",");this.leafLookup[r]=e,e.treePath=r}));const n=[e.label.toLowerCase().trim(),...a.map((({searchText:e})=>e)),...r.map((({label:e})=>e.toLowerCase().trim()))].join(" ");return{treeBranch:e,searchText:n,subBranches:a,leaves:r}},this.project=e,this.defaultView=e.tree.defaultView||null,this.views=e.tree.views||[],this.leafLookup={};const t=e.tree.branches.find((e=>-1===e.pid));if(!t)throw new Error("Could not find root branch");this.tree=this.buildTreeRecursive(t)}},de=a(777),pe=a(765),me=Object(C.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},appBar:{flex:"0 0"},tabs:{},tabContents:{position:"relative",overflow:"hidden",flexGrow:1},closeButton:{zIndex:1e3,background:e.palette.secondary.main,color:e.palette.secondary.contrastText,position:"absolute",top:0,right:0}}})),ge=function(e){var t=e.tabs,a=me(),n=Object(r.useState)(0),o=Object(ee.a)(n,2),l=o[0],i=o[1];return Object(g.jsxs)("div",{className:a.root,children:[Object(g.jsx)(de.a,{value:l,className:a.tabs,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:t.map((function(e,t){return Object(g.jsx)(pe.a,{label:e.label,value:t},"tab-".concat(t))}))}),t.map((function(e,t){var r=e.value;return Object(g.jsx)("div",{className:a.tabContents,style:{display:t===l?"block":"none"},children:r},"tab-".concat(t))}))]})},fe=a(432),ye=a(424),he=a(763),be=a(315),xe=a.n(be),we=a(316),ve=a.n(we),ke=a(477),je=a.n(ke),_e=function(e){var t=Object(r.useState)(""),a=Object(ee.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)(e.tree),i=Object(ee.a)(l,2),s=i[0],c=i[1],u=Z.a.debounce((function(e,t){return c(e.filterTreeByTextRecursive(t,3))}),500,{});return Object(r.useEffect)((function(){u(e,n)}),[n,e]),{filteredTree:s,searchText:n,setSearchText:o}},Se=a(435),ze=a(165),Oe=Object(C.a)((function(){return{root:{}}})),Pe=function(e){var t=e.layerType,a=e.iconProps,r=e.className,n=Oe(),o=ze.Multidot;switch(t){case b.ProjectTreeLayerTypes.point:o=ze.Multidot;break;case b.ProjectTreeLayerTypes.line:o=ze.Polyline;break;case b.ProjectTreeLayerTypes.polygon:o=ze.Polygon;break;case b.ProjectTreeLayerTypes.raster:o=ze.Raster}return Object(g.jsx)(o,Object(i.a)({className:r||n.root},a))},Ee=a(3);const Te=Object(C.a)((e=>({leaf:{cursor:"context-menu",marginLeft:10},active:{fontWeight:"bold"},treeLeafLabel:{display:"flex"},innerLabel:{flexGrow:0},spacer:{flexGrow:1},metaIcon:{margin:e.spacing(.25),opacity:.2,fontSize:e.spacing(2),lineHeight:"1rem"},loadingSpinner:{color:e.palette.text.secondary},tileStatus:{flexGrow:0,fontStyle:"italic"},leafQUEUED:{color:"#999999",fontStyle:"italic"},leafCREATING:{color:"orange"},leafERROR:{color:"red",fontStyle:"italic"},leafUNKNOWN:{color:e.palette.text.secondary,fontStyle:"italic"},leafSUCCESS:{}}))),Ce=({ptLeaf:e,tiles:t,layers:a,leafId:r,handleContext:n,addLayer:o,removeLayer:l})=>{const i=Te(),s=a.find((t=>t.leaf===e)),c=Boolean(a&&s),u=Boolean(b.ProjectTreeLayerTileTypes.indexOf(e.layerType)>-1),d=e.url&&t&&t[e.url]?t[e.url].status:null;let p=null;switch(d){case b.TilingStatus.SUCCESS:break;case b.TilingStatus.QUEUED:p="Queued";break;case b.TilingStatus.CREATING:p="Building Tiles";break;case b.TilingStatus.ERROR:p="ERROR";break;case b.TilingStatus.UNKNOWN:p=Object(g.jsx)(y.a,{className:i.loadingSpinner,color:"inherit",thickness:3,size:15})}return Object(g.jsx)(Se.a,{nodeId:"leaf-".concat(e.pid,"-").concat(r),className:Object(Ee.default)(i.leaf,u&&d&&i["leaf".concat(d)]),hidden:e.hidden||!d,onDoubleClick:()=>{c?l(e):o(e)},label:Object(g.jsxs)("div",{className:i.treeLeafLabel,children:[Object(g.jsx)(h.a,{variant:"body2",color:"inherit",className:Object(Ee.default)(i.innerLabel,c&&i.active),children:e.label}),Object(g.jsx)("div",{className:i.spacer}),p]}),onContextMenu:t=>{t.preventDefault(),n(e,t.clientX-2,t.clientY-4)},icon:Object(g.jsx)(Pe,{layerType:e.layerType})},"leaf-".concat(e.pid,"-").concat(r))},Le=Object(C.a)((e=>({branch:{marginTop:e.spacing(.5)}}))),Ie=({rtBranch:e,tiles:t,layers:a,handleContext:r,addLayer:n,removeLayer:o})=>{const l=Le();return Object(g.jsxs)(Se.a,{nodeId:"branch-".concat(e.treeBranch.bid),className:Object(Ee.default)(l.branch),onDoubleClick:e=>{e.preventDefault(),e.stopPropagation()},onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},hidden:e.treeBranch.hidden,label:Object(g.jsx)(h.a,{variant:"body1",children:e.treeBranch.label}),children:[e.subBranches.map(((e,l)=>Object(g.jsx)(Ie,{rtBranch:e,tiles:t,layers:a,handleContext:r,addLayer:n,removeLayer:o},"branch-".concat(l)))),e.leaves.map(((e,l)=>Object(g.jsx)(Ce,{ptLeaf:e,tiles:t,layers:a,leafId:l,handleContext:r,addLayer:n,removeLayer:o},"leaf-".concat(l))))]},"branch-".concat(e.treeBranch.bid))};var Ne=a(219),Re=a(383),Ae=function(e){var t=e.treeLeaf,a=e.layers,r=e.open,n=e.tiles,o=e.onClose,l=e.position,i=e.addLayer,s=e.openMeta,c=e.removeLayer,u=a.find((function(e){return e.leaf===t})),d=Boolean(t&&a&&u),p=Boolean(t&&b.ProjectTreeLayerTileTypes.indexOf(t.layerType)>-1),m=t&&t.url&&n&&n[t.url]?n[t.url].status:null;return Object(g.jsxs)(Ne.a,{keepMounted:!0,open:r,onClose:o,anchorReference:"anchorPosition",anchorPosition:l,children:[d&&Object(g.jsx)(Re.a,{onClick:function(){t&&c(t),o()},children:"Remove from map"}),!d&&m===b.TilingStatus.SUCCESS&&Object(g.jsx)(Re.a,{onClick:function(){t&&i(t),o()},children:"Add to map"}),m===b.TilingStatus.QUEUED&&Object(g.jsx)(Re.a,{disabled:!0,children:"Queued for tiling"}),m===b.TilingStatus.CREATING&&Object(g.jsx)(Re.a,{disabled:!0,children:"Currently buildign these tiles"}),p&&Object(g.jsx)(Re.a,{onClick:function(){s([t,n[null===t||void 0===t?void 0:t.url]]),o()},children:"Layer Information"})]})},De=a(380),Ue=a(425),Me=a(221),Be=a.n(Me),Fe=a(187),$e=a(766),We=a(767),Ge=a(768),Ve=a(769),Ze=a(770),Je=a(58),He=Object(C.a)((function(e){return{root:{padding:e.spacing(1)},table:{},section:{marginBottom:e.spacing(3)},sectionHeader:{borderBottom:"1px solid"},metaKey:{fontWeight:"bold"},metaValue:{color:e.palette.text.secondary}}})),qe={datecreated:function(e){var t=Je.dates.HTML5InputToTimestamp(e);return t>0?"".concat(Je.dates.formatDate(t,"lll")," (").concat(Je.dates.formatDateAgo(t),")"):"unknown"}},Xe=function(e,t){var a=e.toLowerCase();return Object.keys(qe).indexOf(a)>-1?qe[a](t):t},Ke=function(e){var t=e.title,a=e.meta,r=He();return 0===Object.keys(a).length?null:Object(g.jsxs)("div",{className:r.section,children:[Object(g.jsx)(h.a,{variant:"subtitle1",className:r.sectionHeader,children:t}),Object(g.jsx)(Ve.a,{children:Object(g.jsx)($e.a,{className:r.table,size:"small","aria-label":"a dense table",children:Object(g.jsx)(We.a,{children:Object.keys(a).map((function(e){return Object(g.jsxs)(Ze.a,{children:[Object(g.jsx)(Ge.a,{component:"th",scope:"row",className:r.metaKey,children:e}),Object(g.jsx)(Ge.a,{align:"right",className:r.metaValue,children:Xe(e,a[e])})]},e)}))})})})]})},Qe=a(313),Ye=Object(C.a)((function(){return{root:{},whBtnLogo:{height:20,width:20},whButton:{maxWidth:300}}})),et=function(e){var t=e.title,a=e.href,r=Ye();return Object(g.jsxs)(Qe.a,{className:r.whButton,target:"_blank",variant:"contained",href:a,color:"secondary",fullWidth:!0,children:[Object(g.jsx)("img",{className:r.whBtnLogo,src:"https://riverscapes.xyz/assets/images/RiverscapesLogo.png",alt:"logo"}),t]})},tt=["_rs_lyr_origin_url"],at=Object(C.a)((function(e){return{root:{padding:e.spacing(1)},minimal:{},whNote:{padding:e.spacing(2,1)}}}));var rt=function(e){var t=e.meta,a=e.minimal,r=at(),n=function(e){var t=Object.keys(e).filter((function(e){return tt.indexOf(e)<0})),a=function(a){return t.filter((function(e){return 0===e.indexOf(a)})).reduce((function(t,r){return Object(i.a)(Object(i.a)({},t),{},Object(Y.a)({},r.replace(a,""),e[r]))}),{})};return{upstreamWarehouse:a("_rs_wh_"),upstreamProject:a("_rs_prj_"),upstreamLayer:a("_rs_lyr_"),Layer:t.filter((function(e){return 0!==e.indexOf("_rs")})).reduce((function(t,a){return Object(i.a)(Object(i.a)({},t),{},Object(Y.a)({},a,e[a]))}),{})}}(t);return Object(g.jsxs)(Fe.a,{className:a?r.minimal:r.root,children:[Object.keys(n.Layer).length>0&&Object(g.jsx)(Ke,{title:"Layer Metadata",meta:n.Layer}),!a&&Object.keys(n.upstreamWarehouse).length>0&&Object(g.jsxs)("div",{className:r.whNote,children:[Object(g.jsxs)(h.a,{variant:"caption",component:"div",children:["This layer was imported from a ",t._rs_prj_projType," project in the Riverscapes warehouse. You can visit the original project using the button below."]}),Object(g.jsx)(et,{title:"Original ".concat(t._rs_prj_projType," Project"),href:"".concat($,"/#/").concat(t._rs_wh_program,"/").concat(t._rs_wh_id)})]}),Object.keys(n.upstreamProject).length>0&&Object(g.jsx)(Ke,{title:"Original Project Metadata",meta:n.upstreamProject}),Object.keys(n.upstreamLayer).length>0&&Object(g.jsx)(Ke,{title:"Original Layer Metadata",meta:n.upstreamLayer})]})},nt=a(317),ot=a.n(nt),lt=Object(C.a)((function(e){return{root:{padding:e.spacing(1)},sectionHeader:{borderBottom:"1px solid"},table:{},metaKey:{fontWeight:"bold"},metaValue:{color:e.palette.text.secondary}}})),it=function(e){var t,a,r,n=e.tiles,o=lt(),l=n.tileJSON,i={Status:n.status,Error:n.error,Started:l?"".concat(Je.dates.formatDate(l.started,"lll")," (").concat(Je.dates.formatDateAgo(l.started),")"):"unknown","Last status":l?"".concat(Je.dates.formatDate(l.lastStatus,"lll")," (").concat(Je.dates.formatDateAgo(l.lastStatus),")"):"unknown","Creation time":l?"".concat(((l.duration||0)/60).toFixed(0)," minutes"):"unknown","Original Size":l&&l.originFile?ot()(l.originFile.size).format("0.0 b"):"unknown","Physical path":l?null===(t=l.originFile)||void 0===t?void 0:t.key:"unknown","Modified (origin)":l?"".concat(Je.dates.formatDate(null===(a=l.originFile)||void 0===a?void 0:a.lastModified,"lll")," (").concat(Je.dates.formatDateAgo(null===(r=l.originFile)||void 0===r?void 0:r.lastModified),")"):"unknown"};return Object(g.jsx)(Fe.a,{className:o.root,children:Object(g.jsx)(Ke,{title:"Webtile information",meta:i})})},st=Object(C.a)((function(e){return{root:{height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},toolbar:{flex:"0 0 ",padding:e.spacing(0,1),minHeight:e.spacing(6),background:e.palette.primary.dark,color:e.palette.primary.contrastText},spacer:{flexGrow:1},layerTitle:{},layerIcon:{},layerMeta:{flexGrow:1,overflowY:"scroll",userSelect:"text","& *":{userSelect:"text"}},typeContainer:{},closeButton:{}}})),ct=function(e){var t=e.leaf,a=e.tiles,r=e.handleClose,n=st();return Object(g.jsxs)("div",{className:n.root,children:[Object(g.jsxs)(De.a,{className:n.toolbar,children:[Object(g.jsx)(Ue.a,{title:"This is a ".concat(t.layerType," layer"),children:Object(g.jsx)(T.a,{edge:"start",className:n.layerIcon,color:"inherit","aria-label":"menu",children:Object(g.jsx)(Pe,{layerType:t.layerType})})}),Object(g.jsx)(h.a,{variant:"body2",className:n.layerTitle,children:t.label}),Object(g.jsx)("div",{className:n.spacer}),Object(g.jsx)(T.a,{edge:"start",className:n.closeButton,color:"inherit","aria-label":"menu",onClick:r,children:Object(g.jsx)(Be.a,{})})]}),Object(g.jsxs)("div",{className:n.layerMeta,children:[t.meta&&Object(g.jsx)(rt,{meta:t.meta||{}}),a&&Object(g.jsx)(it,{tiles:a})]})]})},ut=a(493),dt=Object(C.a)((function(){return{root:{height:"100%",position:"relative"},splitPane:{},resizer:{background:"#000",opacity:.2,zIndex:1,boxSizing:"border-box",backgroundClip:"padding-box","&:hover":{transition:"all 2s ease"},"&.horizontal":{height:11,margin:"-5px 0",borderTop:"5px solid rgba(255, 255, 255, 0)",borderBottom:"5px solid rgba(255, 255, 255, 0)",cursor:"row-resize",width:"100%","&:hover":{borderTop:"5px solid rgba(0, 0, 0, 0.5)",borderBottom:"5px solid rgba(0, 0, 0, 0.5)"}},"&.vertical":{width:11,margin:"0 -5px",borderLeft:"5px solid rgba(255, 255, 255, 0)",borderRight:"5px solid rgba(255, 255, 255, 0)",cursor:"col-resize",height:"100%","&:hover":{borderLeft:"5px solid rgba(0, 0, 0, 0.5)",borderRight:"5px solid rgba(0, 0, 0, 0.5)"}},"&.disabled":{cursor:"not-allowed","&:hover":{borderColor:"transparent"}}}}})),pt=function(e){var t=e.open,a=e.child1,r=e.child2,n=e.split,o=e.primary,l=e.defaultSize,i=e.minSize,s=e.maxSize,c=dt();return t?Object(g.jsx)("div",{className:c.root,children:Object(g.jsxs)(ut.a,{className:c.splitPane,resizerClassName:c.resizer,split:n,primary:o,defaultSize:l,minSize:i,maxSize:s,pane1Style:{overflow:"hidden"},pane2Style:{overflow:"hidden"},children:[a,r]})}):Object(g.jsx)("div",{className:c.root,children:o&&"first"!==o?r:a})},mt=Object(C.a)((function(e){return{container:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},tree:{flexGrow:1,overflow:"scroll",paddingBottom:e.spacing(5)},searchBox:{flexGrow:0,padding:e.spacing(.5)},searchBoxInput:{padding:e.spacing(.75,.5)}}})),gt=function(e){var t=e.treeObj,a=e.tiles,o=e.layers,l=e.addLayer,i=e.removeLayer,s=mt(),c=_e(t),u=c.filteredTree,d=c.setSearchText,p=n.a.useState([]),m=Object(ee.a)(p,2),f=m[0],y=m[1],h=n.a.useState(),b=Object(ee.a)(h,2),x=b[0],w=b[1],v=n.a.useState([]),k=Object(ee.a)(v,2),j=k[0],_=k[1],S=Object(r.useState)(),z=Object(ee.a)(S,2),O=z[0],P=z[1];Object(r.useEffect)((function(){var e=[];!function t(a){a.treeBranch.collapsed||e.push("branch-".concat(a.treeBranch.bid)),a.subBranches.forEach((function(e){return t(e)}))}(t.tree),y(e)}),[t]);return Object(g.jsx)(pt,{open:Boolean(x),split:"horizontal",primary:"first",defaultSize:"60%",maxSize:"80%",minSize:"30%",child1:Object(g.jsxs)("div",{className:s.container,children:[Object(g.jsx)(ye.a,{fullWidth:!0,className:s.searchBox,placeholder:"Filter Project Layers...",variant:"outlined",onChange:function(e){return d(e.target.value.toLowerCase().trim())},InputProps:{classes:{input:s.searchBoxInput},startAdornment:Object(g.jsx)(he.a,{position:"start",children:Object(g.jsx)(je.a,{})})}}),Object(g.jsx)(fe.a,{className:s.tree,defaultCollapseIcon:Object(g.jsx)(xe.a,{}),defaultExpandIcon:Object(g.jsx)(ve.a,{}),expanded:f,selected:j,onNodeToggle:function(e,t){y(t)},onNodeSelect:function(e,t){_(t)},children:u&&Object(g.jsx)(Ie,{rtBranch:u,tiles:a,layers:o,handleContext:function(e,t,a){return P([e,t,a])},addLayer:l,removeLayer:i})}),Object(g.jsx)(Ae,{treeLeaf:O&&O[0],open:Boolean(O),layers:o,tiles:a,onClose:function(){return P(void 0)},addLayer:l,removeLayer:i,openMeta:w,position:O&&null!==O[2]&&null!==O[1]?{top:O[2],left:O[1]}:void 0})]}),child2:x?Object(g.jsx)(ct,{leaf:x[0],tiles:x[1],handleClose:function(){w(void 0)}}):Object(g.jsx)("div",{})})},ft=a(243);a(671);function yt(e){return"webRAVE_".concat(e.leaf.treePath,"_").concat(e.leaf.layerId||"")}function ht(e){var t;return"webRAVE_".concat(null===(t=e.tiles)||void 0===t?void 0:t.url)}var bt=({layers:e,baseLayer:t})=>{const{map:a}=n.a.useContext(ft.a),o=Object(r.useCallback)((()=>{if(!a)return;const t=a.getStyle().layers.map((({id:e})=>e)).filter((e=>0===e.indexOf("webRAVE"))),r=Object.keys(a.getStyle().sources).filter((e=>0===e.indexOf("webRAVE"))),n=e.reduce(((e,t)=>({...e,[yt(t)]:{layer:t,sourceId:ht(t)}})),{});let o;m.a.debug("MapLayers:: DEBUG",a),Object.keys(n).forEach((e=>{const l=n[e],i=[];if(t.indexOf(e)<0){if(r.indexOf(l.sourceId)<0)switch(l.layer.leaf.layerType){case b.ProjectTreeLayerTypes.polygon:case b.ProjectTreeLayerTypes.line:case b.ProjectTreeLayerTypes.point:a.addSource(l.sourceId,xt(l.layer));break;case b.ProjectTreeLayerTypes.raster:a.addSource(l.sourceId,function(e){var t,a,r,n,o,l;return{type:"raster",scheme:"tms",maxzoom:(null===(t=e.tiles)||void 0===t||null===(a=t.tileJSON)||void 0===a?void 0:a.maxZoom)||20,minzoom:(null===(r=e.tiles)||void 0===r||null===(n=r.tileJSON)||void 0===n?void 0:n.minZoom)||4,tiles:["".concat(e.leaf.url,"/{z}/{x}/{y}.").concat((null===(o=e.tiles)||void 0===o||null===(l=o.tileJSON)||void 0===l?void 0:l.format)||"png")]}}(l.layer))}switch(l.layer.leaf.layerType){case b.ProjectTreeLayerTypes.polygon:a.addLayer(wt(l.layer,e,l.sourceId)),a.addLayer(function(e,t,a){var r,n,o,l;const i={type:"line",id:t,source:a,minzoom:(null===(r=e.tiles)||void 0===r||null===(n=r.tileJSON)||void 0===n?void 0:n.minZoom)||0,maxzoom:24,layout:{},paint:{"line-color":e.legend.color[400]}};if(null===(o=e.tiles)||void 0===o||null===(l=o.tileJSON)||void 0===l?void 0:l.rsLayer.subLayers){var s,c;const t=null===(s=e.tiles)||void 0===s||null===(c=s.tileJSON)||void 0===c?void 0:c.rsLayer.subLayers.find((t=>t.id===e.leaf.layerId));i["source-layer"]=t.path}return i}(l.layer,"".concat(e,"_outline"),l.sourceId)),i.push(e),i.push("".concat(e,"_outline"));break;case b.ProjectTreeLayerTypes.line:a.addLayer(jt(l.layer,e,l.sourceId)),i.push(e);break;case b.ProjectTreeLayerTypes.point:a.addLayer(kt(l.layer,e,l.sourceId)),i.push(e);break;case b.ProjectTreeLayerTypes.raster:a.addLayer(vt(l.layer,e,l.sourceId)),i.push(e)}m.a.debug("MapLayers::AddLayer",{newLayer:l,newKey:e,lastId:o})}else i.push(e);i.forEach((e=>{o&&(m.a.debug("MapLayers:: Moving ".concat(e," before ").concat(o)),a.moveLayer(e,o)),o=e}))})),t.forEach((e=>{Object.keys(n).find((t=>0==e.indexOf(t)))||a.removeLayer(e)}))}),[e]);return Object(r.useEffect)(o,[a,e,t]),null};function xt(e){var t,a,r,n,o,l;return{type:"vector",maxzoom:(null===(t=e.tiles)||void 0===t||null===(a=t.tileJSON)||void 0===a?void 0:a.maxZoom)||20,minzoom:(null===(r=e.tiles)||void 0===r||null===(n=r.tileJSON)||void 0===n?void 0:n.minZoom)||4,tiles:["".concat(e.leaf.url,"{z}/{x}/{y}.").concat((null===(o=e.tiles)||void 0===o||null===(l=o.tileJSON)||void 0===l?void 0:l.format)||"pbf")]}}const wt=(e,t,a)=>{var r,n,o,l;const i={type:"fill",id:t,source:a,minzoom:(null===(r=e.tiles)||void 0===r||null===(n=r.tileJSON)||void 0===n?void 0:n.minZoom)||0,maxzoom:24,layout:{},paint:{"fill-opacity":.5,"fill-color":e.legend.color[500]}};if(null===(o=e.tiles)||void 0===o||null===(l=o.tileJSON)||void 0===l?void 0:l.rsLayer.subLayers){var s,c;const t=null===(s=e.tiles)||void 0===s||null===(c=s.tileJSON)||void 0===c?void 0:c.rsLayer.subLayers.find((t=>t.id===e.leaf.layerId));i["source-layer"]=t.path}return i},vt=(e,t,a)=>{var r,n,o,l;const i={type:"raster",id:t,source:a,minzoom:(null===(r=e.tiles)||void 0===r||null===(n=r.tileJSON)||void 0===n?void 0:n.minZoom)||0,maxzoom:24,layout:{},paint:{}};if(null===(o=e.tiles)||void 0===o||null===(l=o.tileJSON)||void 0===l?void 0:l.rsLayer.subLayers){var s,c;const t=null===(s=e.tiles)||void 0===s||null===(c=s.tileJSON)||void 0===c?void 0:c.rsLayer.subLayers.find((t=>t.id===e.leaf.layerId));i["source-layer"]=t.path}return i},kt=(e,t,a)=>{var r,n,o,l;const i={type:"circle",id:t,source:a,minzoom:(null===(r=e.tiles)||void 0===r||null===(n=r.tileJSON)||void 0===n?void 0:n.minZoom)||0,maxzoom:24,layout:{},paint:{"circle-stroke-opacity":1,"circle-stroke-width":2,"circle-stroke-color":e.legend.color[300]||"#FF0000","circle-opacity":.5,"circle-radius":4,"circle-color":e.legend.color[500]||"#FF0000"}};if(null===(o=e.tiles)||void 0===o||null===(l=o.tileJSON)||void 0===l?void 0:l.rsLayer.subLayers){var s,c;const t=null===(s=e.tiles)||void 0===s||null===(c=s.tileJSON)||void 0===c?void 0:c.rsLayer.subLayers.find((t=>t.id===e.leaf.layerId));i["source-layer"]=t.path}return i},jt=(e,t,a)=>{var r;const n=null===(r=e.tiles)||void 0===r?void 0:r.tileJSON,o={type:"line",id:t,source:a,minzoom:(null===n||void 0===n?void 0:n.minZoom)||0,maxzoom:24,layout:{},paint:{"line-color":e.legend.color[500]||"#00FF00"}};if(null===n||void 0===n?void 0:n.rsLayer.subLayers){const t=null===n||void 0===n?void 0:n.rsLayer.subLayers.find((t=>t.id===e.leaf.layerId));o["source-layer"]=t.path}return o},_t={zoom:8},St=Z.a.debounce(((...e)=>console.log(...e)),1500);var zt=({children:e,layers:t,baseLayer:a,bounds:n,zoomBounds:o})=>{const[l,i]=Object(r.useState)(_t),s=Object(r.useRef)();s.current=l;const u=e=>{const a={...s.current,...e,pitch:0,bearing:0};o&&a.zoom&&(a.zoom>o[1]?a.zoom=o[1]:a.zoom<o[0]&&(a.zoom=o[0])),n&&a.longitude&&a.latitude&&(a.longitude<n[0]?a.longitude=n[0]:a.longitude>n[2]&&(a.longitude=n[2]),a.latitude<n[1]?a.latitude=n[1]:a.latitude>n[3]&&(a.latitude=n[3])),St("setViewport DEBOUNCED",{inViewport:e,newViewport:a,bounds:n,layers:t}),i(a)},d=S.find((e=>e.id===a));return Object(r.useEffect)((()=>{const e={...s.current};!e.latitude&&n&&u({...e,longitude:(n[0]+n[2])/2,latitude:(n[1]+n[3])/2})}),[n,o]),d&&n?Object(g.jsxs)(ft.b,{...l,width:"100%",height:"100%",minZoom:o[0]||4,maxZoom:o[1]||20,mapStyle:d.style,clickRadius:2,onViewportChange:u,mapboxApiAccessToken:c.config.mapConfig.mapBoxToken,children:[Object(g.jsx)(bt,{layers:t,baseLayer:a}),e]}):Object(g.jsx)(Ot,{})};const Ot=()=>Object(g.jsx)(u.b,{logoSVG:Object(g.jsx)(y.a,{size:"7rem",thickness:7}),status:Object(g.jsx)(h.a,{variant:"h5",component:"div",children:"Loading Map..."}),containerProps:{maxWidth:"xl",style:{position:"absolute",zIndex:1e3,top:0,left:0,width:"100%",height:"100%",background:"#FFFFFF77"}}});var Pt=a(382);const Et=Object(C.a)((e=>({root:{padding:e.spacing(1),height:"100%",overflowY:"scroll",userSelect:"text","& *":{userSelect:"text"}},btnGroup:{width:"100%",display:"flex",justifyContent:"space-between","&>*":{flex:"0 0 calc(50% - 0.5em)"},margin:e.spacing(1,1,3,1)},divider:{marginTop:e.spacing(3)},footerLogo:{}})));var Tt=({project:e,downloadZipFile:t,pendingZips:a})=>{const r=Et(),n={Title:e.name,Type:e.projType,"Warehouse ID":e.id,"Warehouse Tags":Array.isArray(e.tags)?e.tags.join(", "):"<None>","Project Created":"".concat(Je.dates.formatDate(e.createdOn,"lll")," (").concat(Je.dates.formatDateAgo(e.createdOn),")"),"Project Updated":"".concat(Je.dates.formatDate(e.updatedOn,"lll")," (").concat(Je.dates.formatDateAgo(e.updatedOn),")")},o=e&&a[e.id];return Object(g.jsxs)(Fe.a,{className:r.root,children:[Object(g.jsxs)(h.a,{variant:"h4",paragraph:!0,color:"textPrimary",children:[e.projType," Project"]}),Object(g.jsx)(Pt.a,{}),Object(g.jsxs)(h.a,{component:"div",paragraph:!0,children:["This project exists within the Riverscapes Data Warehouse. You can download this project and view it using the free"," ",Object(g.jsx)("a",{href:"https://rave.riverscapes.xyz",target:"_blank",rel:"noreferrer",children:"RAVE"})," ","plugin for ArcGIS."]}),Object(g.jsxs)("div",{className:r.btnGroup,children:[Object(g.jsx)(et,{title:"Warehouse",href:"".concat($,"/#/").concat(e.program,"/").concat(e.id)}),Object(g.jsx)(c.DownloadZipBtn,{downloadZipFile:t,pendingSince:o,project:e,title:"Download"})]}),Object(g.jsx)(Ke,{title:"Project Information",meta:n}),Object(g.jsx)(Ke,{title:"Project Metadata",meta:e.meta}),Object(g.jsx)(Pt.a,{className:r.divider}),Object(g.jsx)("a",{href:"http://riverscapes.xyz",target:"_blank",rel:"noreferrer",children:Object(g.jsx)("img",{className:r.footerLogo,alt:"footer",src:"".concat("/webrave-staging","/cc-watermarks-riverscapes_orig.png")})})]})},Ct=a(311),Lt=a(309),It=a(422),Nt=a(764),Rt=a(423),At=a(479),Dt=a.n(At);const Ut=Object(C.a)((e=>({container:{},root:{marginTop:e.spacing(2)},heading:{marginTop:e.spacing(1)},layerItem:{display:"flex"},legendName:{flexGrow:1},deleteButtonHover:{},legendColor:{border:"1px solid black",width:"20px",display:"inline-block",height:"14px",marginRight:"5px"},deleteButton:{flexGrow:0,color:"#AAAAAA"}})));var Mt=({layers:e,removeItem:t})=>{const a=Ut();return Object(g.jsx)("div",{className:a.container,children:Object(g.jsx)(Ct.a,{dense:!0,children:e.map(((e,a)=>{const r=e.leaf.layerType===b.ProjectTreeLayerTypes.raster?"#000000":e.legend.color[500];return Object(g.jsxs)(Lt.a,{children:[Object(g.jsx)(It.a,{children:Object(g.jsx)(Pe,{layerType:e.leaf.layerType,iconProps:{style:{color:r}}})}),Object(g.jsx)(Rt.a,{primary:e.leaf.label}),Object(g.jsx)(Nt.a,{children:Object(g.jsx)(T.a,{edge:"end","aria-label":"delete",onClick:a=>{a.stopPropagation(),t(e.leaf)},children:Object(g.jsx)(Dt.a,{})})})]},"legenditem-".concat(a))}))})})},Bt=a(715),Ft=a(314),$t=a(719);const Wt=Object(C.a)((e=>({root:{margin:e.spacing(1,0)}})));var Gt=({activeView:e,defaultView:t,projectViews:a,handleChange:n})=>{const o=Wt(),l=Object(r.useMemo)((()=>[...a.map(((e,a)=>{const r=e.id===t?"(default)":"";return Object(g.jsxs)(Re.a,{value:e.id,children:[e.name," ",r]},"view-".concat(a))}))||[],"custom"===e&&Object(g.jsx)(Re.a,{value:"custom",children:Object(g.jsx)(h.a,{variant:"subtitle1",color:"textSecondary",children:Object(g.jsx)("em",{children:"Custom View"})})},"custom")]),[a,e]);return Object(g.jsxs)(Ft.a,{className:o.root,fullWidth:!0,children:[Object(g.jsx)(Bt.a,{htmlFor:"grouped-native-select",children:"Curated Views"}),Object(g.jsx)($t.a,{id:"view",value:e,variant:"filled",onChange:e=>n(e.target.value),children:l})]})},Vt=Object(C.a)((function(e){return{root:{},menuIcon:{marginRight:e.spacing(1)},menuItem:{display:"flex"}}})),Zt=function(e){var t=e.baseLayer,a=e.baseLayers,n=e.setBaseLayer,o=Vt(),l=Object(r.useMemo)((function(){return a.map((function(e,t){var a=e.Icon;return Object(g.jsxs)(Re.a,{value:e.id,className:o.menuItem,children:[Object(g.jsx)(a,{className:o.menuIcon}),Object(g.jsx)(h.a,{children:e.title})]},"view-".concat(t))}))}),[a]);return Object(g.jsxs)(Ft.a,{className:o.root,fullWidth:!0,children:[Object(g.jsx)(Bt.a,{children:"Basemap"}),Object(g.jsx)($t.a,{id:"baselayer",value:t,variant:"filled",classes:{selectMenu:o.menuItem},onChange:function(e){return n(e.target.value)},children:l})]})},Jt=Object(C.a)((function(){return{root:{},subheaders:{background:"white"}}})),Ht=function(e){var t=e.project,a=e.layers,r=e.baseLayer,n=e.baseLayers,o=e.setBaseLayer,l=e.removeLayer,i=e.error,s=e.viewId,c=e.setViewId,u=Jt();return Object(g.jsxs)("div",{className:u.root,children:[Object(g.jsx)(Zt,{baseLayer:r,baseLayers:n,setBaseLayer:o}),t.tree.views&&Object(g.jsx)(Gt,{activeView:s,defaultView:t.tree.defaultView,handleChange:c,projectViews:t.tree.views}),Object(g.jsx)(Mt,{layers:a,removeItem:l}),Object(g.jsx)(h.a,{color:"error",children:i})]})};const qt=Object(C.a)((e=>({root:{marginLeft:e.spacing(1)},container:{display:"flex",height:"100%"},legendBox:{padding:e.spacing(1),border:"1px solid #999999",borderRadius:5,position:"absolute",background:"white",width:270,boxShadow:"3px 3px 3px #00000066",top:15,right:15},mapContainer:{position:"relative",background:"#CCCCCC",height:"100%",width:"100%","&>h1":{color:"#9999FF",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},drawerContents:{height:"100%",display:"flex"},drawerSpacer:{flex:"0 0 0%"},drawerSpacerOpen:{flex:"0 0 ".concat("25%")},dialogContainer:{alignItems:"left",justifyContent:"left"},dialog:{position:"absolute",margin:0,left:"20px",top:"20px"},subheaders:{background:"white"},dummyText:{}})));var Xt=({project:e,downloadZipFile:t,pendingZips:a})=>{const n=qt(),[o,l]=Object(r.useState)(!0),[i,s]=Object(r.useState)(S[0].id),c=Object(r.useMemo)((()=>e?new ue(e):void 0),[e]),{tiles:u,bounds:d,zoomBounds:p}=le(c),{currView:m,layersError:f,layers:y,addLayer:h,removeLayer:b,changeView:x}=q(e,u);return Object(g.jsx)(pt,{open:o,split:"vertical",primary:"second",minSize:500,maxSize:"85%",defaultSize:"75%",child1:Object(g.jsx)(ge,{tabs:[{label:"Project Tree",value:Object(g.jsx)(gt,{treeObj:c,tiles:u,layers:y,addLayer:h,removeLayer:b})},{label:"Project Info",value:Object(g.jsx)(Tt,{project:e,downloadZipFile:t,pendingZips:a})}]}),child2:Object(g.jsx)("main",{className:n.mapContainer,children:Object(g.jsxs)(zt,{layers:y,baseLayer:i,bounds:d,zoomBounds:p,children:[Object(g.jsx)(T.a,{onClick:()=>l(!o),children:o?Object(g.jsx)(E.a,{}):Object(g.jsx)(O.a,{})}),Object(g.jsx)("div",{className:n.legendBox,children:Object(g.jsx)(Ht,{project:e,error:f,viewId:m,layers:y,baseLayer:i,baseLayers:S,setBaseLayer:s,setViewId:x,removeLayer:b})})]})})})},Kt=function(e){var t=e.match,a=e.history,r=e.auth,n=e.programs,o=Object(c.useProgram)(t,n),l=Object(c.useProject)(r,t,o,!1,!0),i=l.project,s=l.loading,d=Object(c.useDownloads)(r,o),p=d.downloadZipFile,x=d.pendingZips,w=o&&Object.values(b.WarehouseRoleEnum).indexOf(o.role)>-1;return m.a.info("App.Connect",{hasViewAccess:w,program:o,isProjLoading:s,project:i,match:t,history:a}),w?Object(g.jsx)(f,{title:(null===i||void 0===i?void 0:i.name)||"Loading",history:a,match:t,children:Object(g.jsxs)(g.Fragment,{children:[s&&Object(g.jsx)(u.b,{logoSVG:Object(g.jsx)(y.a,{size:"7rem",thickness:7}),status:Object(g.jsx)(h.a,{variant:"h5",component:"div",children:"Loading Project..."}),containerProps:{maxWidth:"xl",style:{position:"absolute",zIndex:1e3,top:0,left:0,width:"100%",height:"100%",background:"#FFFFFF77"}}}),i&&Object(g.jsx)(Xt,{project:i,downloadZipFile:p,pendingZips:x})]})}):Object(g.jsx)(c.NotAllowedModal,{program:o,onClose:function(){return a.push("/")}})},Qt=a(492);var Yt=()=>{const[e,t]=Object(r.useState)(),[a,n]=Object(r.useState)(),[o,l]=Object(r.useState)(!0),i=Object(Qt.a)(e,!1,c.config.isDev),s=Object(d.k)();Object(r.useEffect)((()=>{Object(b.authCheck)(c.config.endpoints.graphql,"").then((e=>{var a;m.a.debug("authResp",e);const r=null===(a=e.data)||void 0===a?void 0:a.auth;r&&r.region&&(t({region:r.region,userPoolId:r.userPool,userPoolWebClientId:r.clientId,mandatorySignIn:!0,oauth:{domain:r.domain,scope:["email","profile","openid"],redirectSignIn:c.config.redirectUrl.toString(),redirectSignOut:c.config.redirectUrl.toString(),responseType:"code"}}),l(!1))})).catch((e=>{m.a.error("api.getPrograms error",e)}))}),[]),Object(r.useEffect)((()=>{if(!s)return;const e=localStorage.getItem("RSUrl"),t=s.location.pathname;m.a.debug("LOCALSTORAGE:::REDIRECT checking",e,t,i),i.isAuthenticated||i.error||!i.isAuthComplete||(m.a.debug("LOCALSTORAGE:::SET",t),localStorage.setItem("RSUrl",t)),e&&i.isAuthenticated&&i.isAuthComplete&&!i.error&&(t!==e&&(m.a.debug("LOCALSTORAGE:::REDIRECT",t,e),s.push(e)),localStorage.removeItem("RSUrl"))}),[s,i]);const p=Object(r.useCallback)(((e,t,a)=>{a?e.push("/"+t.machineName+"/"+a.id):e.push("/"+t.machineName)}),[]);Object(r.useEffect)((()=>{i.isAuthenticated&&!(null===a||void 0===a?void 0:a.programs)&&(n({programs:[],loading:!0}),i.getCurrentToken().then((e=>Object(b.getPrograms)(c.config.endpoints.graphql,e))).then((e=>{m.a.debug("API GetPrograms",e),e.data&&e.data.programs&&n({programs:e.data.programs,loading:!1})})).catch((e=>{m.a.error("api.getPrograms error",e)})))}),[i,a]);const y=Object(g.jsx)("img",{src:"/webrave-staging/RiverscapesLogo.png",alt:"logo"});if(o)return Object(g.jsx)(f,{title:"Loading authentication info",children:Object(g.jsx)(u.b,{logoSVG:y,title:"Riverscapes Project Viewer (webRAVE)",message:"Loading authentication info",version:c.config.version})});if(i.isAuthenticated){if(!a||(null===a||void 0===a?void 0:a.loading))return Object(g.jsx)(f,{title:"webRAVE",children:Object(g.jsx)(u.b,{logoSVG:y,title:"Riverscapes Warehouse",message:"Loading Programs",version:c.config.version})});{const e={navigate:p,signOut:i.signOut,programs:null===a||void 0===a?void 0:a.programs};return Object(g.jsxs)(d.g,{children:[Object(g.jsx)(d.d,{path:"/:program/:project/:params?",render:e=>Object(g.jsx)(Kt,{...e,auth:i,programs:null===a||void 0===a?void 0:a.programs})}),Object(g.jsx)(d.d,{path:"*",render:t=>Object(g.jsx)(f,{...t,...e,children:"404 Not found"})})]})}}return i.isAuthComplete?Object(g.jsx)(f,{title:"Sign in",children:Object(g.jsx)(c.LoginScreen,{signIn:i.signIn})}):Object(g.jsx)(f,{title:"webRAVE",children:Object(g.jsx)(u.b,{logoSVG:y,title:"Authenticating",message:"Authenticating",version:c.config.version})})},ea=a(183);a(700);Object(u.c)(),a(701),l.a.render(Object(g.jsx)(ea.HashRouter,{basename:"/",children:Object(g.jsx)(Yt,{})}),document.getElementById("root")),window.addEventListener("load",(function(){window.history.pushState({},"")})),navigator.storage&&navigator.storage.persist?navigator.storage.persist().then((function(e){e?m.a.debug("Storage will not be cleared except by explicit user action"):m.a.warn("Storage may be cleared by the UA under storage pressure.")})):m.a.warn("navigator.storage API not implemented.")}},[[704,1,2]]]);
//# sourceMappingURL=main.6893b2bd.chunk.js.map